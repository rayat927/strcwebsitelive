{"ast":null,"code":"import _classCallCheck from \"F:/strc/website/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"F:/strc/website/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _asyncToGenerator from \"F:/strc/website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _regeneratorRuntime from \"F:\\\\strc\\\\website\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\nimport firebase from '@firebase/app-compat';\nimport * as exp from '@firebase/auth/internal';\nimport { Component } from '@firebase/component';\nimport { isBrowserExtension, isReactNative, isNode, getUA, isIE, isIndexedDBAvailable, FirebaseError } from '@firebase/util';\nvar name = \"@firebase/auth-compat\";\nvar version = \"0.2.8\";\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nvar CORDOVA_ONDEVICEREADY_TIMEOUT_MS = 1000;\n\nfunction _getCurrentScheme() {\n  var _a;\n\n  return ((_a = self === null || self === void 0 ? void 0 : self.location) === null || _a === void 0 ? void 0 : _a.protocol) || null;\n}\n/**\r\n * @return {boolean} Whether the current environment is http or https.\r\n */\n\n\nfunction _isHttpOrHttps() {\n  return _getCurrentScheme() === 'http:' || _getCurrentScheme() === 'https:';\n}\n/**\r\n * @param {?string=} ua The user agent.\r\n * @return {boolean} Whether the app is rendered in a mobile iOS or Android\r\n *     Cordova environment.\r\n */\n\n\nfunction _isAndroidOrIosCordovaScheme() {\n  var ua = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getUA();\n  return !!((_getCurrentScheme() === 'file:' || _getCurrentScheme() === 'ionic:') && ua.toLowerCase().match(/iphone|ipad|ipod|android/));\n}\n/**\r\n * @return {boolean} Whether the environment is a native environment, where\r\n *     CORS checks do not apply.\r\n */\n\n\nfunction _isNativeEnvironment() {\n  return isReactNative() || isNode();\n}\n/**\r\n * Checks whether the user agent is IE11.\r\n * @return {boolean} True if it is IE11.\r\n */\n\n\nfunction _isIe11() {\n  return isIE() && (document === null || document === void 0 ? void 0 : document.documentMode) === 11;\n}\n/**\r\n * Checks whether the user agent is Edge.\r\n * @param {string} userAgent The browser user agent string.\r\n * @return {boolean} True if it is Edge.\r\n */\n\n\nfunction _isEdge() {\n  var ua = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getUA();\n  return /Edge\\/\\d+/.test(ua);\n}\n/**\r\n * @param {?string=} opt_userAgent The navigator user agent.\r\n * @return {boolean} Whether local storage is not synchronized between an iframe\r\n *     and a popup of the same domain.\r\n */\n\n\nfunction _isLocalStorageNotSynchronized() {\n  var ua = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getUA();\n  return _isIe11() || _isEdge(ua);\n}\n/** @return {boolean} Whether web storage is supported. */\n\n\nfunction _isWebStorageSupported() {\n  try {\n    var storage = self.localStorage;\n\n    var key = exp._generateEventId();\n\n    if (storage) {\n      // setItem will throw an exception if we cannot access WebStorage (e.g.,\n      // Safari in private mode).\n      storage['setItem'](key, '1');\n      storage['removeItem'](key); // For browsers where iframe web storage does not synchronize with a popup\n      // of the same domain, indexedDB is used for persistent storage. These\n      // browsers include IE11 and Edge.\n      // Make sure it is supported (IE11 and Edge private mode does not support\n      // that).\n\n      if (_isLocalStorageNotSynchronized()) {\n        // In such browsers, if indexedDB is not supported, an iframe cannot be\n        // notified of the popup sign in result.\n        return isIndexedDBAvailable();\n      }\n\n      return true;\n    }\n  } catch (e) {\n    // localStorage is not available from a worker. Test availability of\n    // indexedDB.\n    return _isWorker() && isIndexedDBAvailable();\n  }\n\n  return false;\n}\n/**\r\n * @param {?Object=} global The optional global scope.\r\n * @return {boolean} Whether current environment is a worker.\r\n */\n\n\nfunction _isWorker() {\n  // WorkerGlobalScope only defined in worker environment.\n  return typeof global !== 'undefined' && 'WorkerGlobalScope' in global && 'importScripts' in global;\n}\n\nfunction _isPopupRedirectSupported() {\n  return (_isHttpOrHttps() || isBrowserExtension() || _isAndroidOrIosCordovaScheme()) && // React Native with remote debugging reports its location.protocol as\n  // http.\n  !_isNativeEnvironment() && // Local storage has to be supported for browser popup and redirect\n  // operations to work.\n  _isWebStorageSupported() && // DOM, popups and redirects are not supported within a worker.\n  !_isWorker();\n}\n/** Quick check that indicates the platform *may* be Cordova */\n\n\nfunction _isLikelyCordova() {\n  return _isAndroidOrIosCordovaScheme() && typeof document !== 'undefined';\n}\n\nfunction _isCordova() {\n  return _isCordova2.apply(this, arguments);\n}\n\nfunction _isCordova2() {\n  _isCordova2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee17() {\n    return _regeneratorRuntime.wrap(function _callee17$(_context17) {\n      while (1) {\n        switch (_context17.prev = _context17.next) {\n          case 0:\n            if (_isLikelyCordova()) {\n              _context17.next = 2;\n              break;\n            }\n\n            return _context17.abrupt(\"return\", false);\n\n          case 2:\n            return _context17.abrupt(\"return\", new Promise(function (resolve) {\n              var timeoutId = setTimeout(function () {\n                // We've waited long enough; the telltale Cordova event didn't happen\n                resolve(false);\n              }, CORDOVA_ONDEVICEREADY_TIMEOUT_MS);\n              document.addEventListener('deviceready', function () {\n                clearTimeout(timeoutId);\n                resolve(true);\n              });\n            }));\n\n          case 3:\n          case \"end\":\n            return _context17.stop();\n        }\n      }\n    }, _callee17);\n  }));\n  return _isCordova2.apply(this, arguments);\n}\n\nfunction _getSelfWindow() {\n  return typeof window !== 'undefined' ? window : null;\n}\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar Persistence = {\n  LOCAL: 'local',\n  NONE: 'none',\n  SESSION: 'session'\n};\nvar _assert$3 = exp._assert;\nvar PERSISTENCE_KEY = 'persistence';\n/**\r\n * Validates that an argument is a valid persistence value. If an invalid type\r\n * is specified, an error is thrown synchronously.\r\n */\n\nfunction _validatePersistenceArgument(auth, persistence) {\n  _assert$3(Object.values(Persistence).includes(persistence), auth, \"invalid-persistence-type\"\n  /* INVALID_PERSISTENCE */\n  ); // Validate if the specified type is supported in the current environment.\n\n\n  if (isReactNative()) {\n    // This is only supported in a browser.\n    _assert$3(persistence !== Persistence.SESSION, auth, \"unsupported-persistence-type\"\n    /* UNSUPPORTED_PERSISTENCE */\n    );\n\n    return;\n  }\n\n  if (isNode()) {\n    // Only none is supported in Node.js.\n    _assert$3(persistence === Persistence.NONE, auth, \"unsupported-persistence-type\"\n    /* UNSUPPORTED_PERSISTENCE */\n    );\n\n    return;\n  }\n\n  if (_isWorker()) {\n    // In a worker environment, either LOCAL or NONE are supported.\n    // If indexedDB not supported and LOCAL provided, throw an error\n    _assert$3(persistence === Persistence.NONE || persistence === Persistence.LOCAL && isIndexedDBAvailable(), auth, \"unsupported-persistence-type\"\n    /* UNSUPPORTED_PERSISTENCE */\n    );\n\n    return;\n  } // This is restricted by what the browser supports.\n\n\n  _assert$3(persistence === Persistence.NONE || _isWebStorageSupported(), auth, \"unsupported-persistence-type\"\n  /* UNSUPPORTED_PERSISTENCE */\n  );\n}\n\nfunction _savePersistenceForRedirect(_x) {\n  return _savePersistenceForRedirect2.apply(this, arguments);\n}\n\nfunction _savePersistenceForRedirect2() {\n  _savePersistenceForRedirect2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee18(auth) {\n    var session, key;\n    return _regeneratorRuntime.wrap(function _callee18$(_context18) {\n      while (1) {\n        switch (_context18.prev = _context18.next) {\n          case 0:\n            _context18.next = 2;\n            return auth._initializationPromise;\n\n          case 2:\n            session = getSessionStorageIfAvailable();\n            key = exp._persistenceKeyName(PERSISTENCE_KEY, auth.config.apiKey, auth.name);\n\n            if (session) {\n              session.setItem(key, auth._getPersistence());\n            }\n\n          case 5:\n          case \"end\":\n            return _context18.stop();\n        }\n      }\n    }, _callee18);\n  }));\n  return _savePersistenceForRedirect2.apply(this, arguments);\n}\n\nfunction _getPersistencesFromRedirect(apiKey, appName) {\n  var session = getSessionStorageIfAvailable();\n\n  if (!session) {\n    return [];\n  }\n\n  var key = exp._persistenceKeyName(PERSISTENCE_KEY, apiKey, appName);\n\n  var persistence = session.getItem(key);\n\n  switch (persistence) {\n    case Persistence.NONE:\n      return [exp.inMemoryPersistence];\n\n    case Persistence.LOCAL:\n      return [exp.indexedDBLocalPersistence, exp.browserSessionPersistence];\n\n    case Persistence.SESSION:\n      return [exp.browserSessionPersistence];\n\n    default:\n      return [];\n  }\n}\n/** Returns session storage, or null if the property access errors */\n\n\nfunction getSessionStorageIfAvailable() {\n  var _a;\n\n  try {\n    return ((_a = _getSelfWindow()) === null || _a === void 0 ? void 0 : _a.sessionStorage) || null;\n  } catch (e) {\n    return null;\n  }\n}\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar _assert$2 = exp._assert;\n/** Platform-agnostic popup-redirect resolver */\n\nvar CompatPopupRedirectResolver = /*#__PURE__*/function () {\n  function CompatPopupRedirectResolver() {\n    _classCallCheck(this, CompatPopupRedirectResolver);\n\n    // Create both resolvers for dynamic resolution later\n    this.browserResolver = exp._getInstance(exp.browserPopupRedirectResolver);\n    this.cordovaResolver = exp._getInstance(exp.cordovaPopupRedirectResolver); // The actual resolver in use: either browserResolver or cordovaResolver.\n\n    this.underlyingResolver = null;\n    this._redirectPersistence = exp.browserSessionPersistence;\n    this._completeRedirectFn = exp._getRedirectResult;\n  }\n\n  _createClass(CompatPopupRedirectResolver, [{\n    key: \"_initialize\",\n    value: function () {\n      var _initialize2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(auth) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.selectUnderlyingResolver();\n\n              case 2:\n                return _context.abrupt(\"return\", this.assertedUnderlyingResolver._initialize(auth));\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _initialize(_x2) {\n        return _initialize2.apply(this, arguments);\n      }\n\n      return _initialize;\n    }()\n  }, {\n    key: \"_openPopup\",\n    value: function () {\n      var _openPopup2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(auth, provider, authType, eventId) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.selectUnderlyingResolver();\n\n              case 2:\n                return _context2.abrupt(\"return\", this.assertedUnderlyingResolver._openPopup(auth, provider, authType, eventId));\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function _openPopup(_x3, _x4, _x5, _x6) {\n        return _openPopup2.apply(this, arguments);\n      }\n\n      return _openPopup;\n    }()\n  }, {\n    key: \"_openRedirect\",\n    value: function () {\n      var _openRedirect2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(auth, provider, authType, eventId) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.selectUnderlyingResolver();\n\n              case 2:\n                return _context3.abrupt(\"return\", this.assertedUnderlyingResolver._openRedirect(auth, provider, authType, eventId));\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function _openRedirect(_x7, _x8, _x9, _x10) {\n        return _openRedirect2.apply(this, arguments);\n      }\n\n      return _openRedirect;\n    }()\n  }, {\n    key: \"_isIframeWebStorageSupported\",\n    value: function _isIframeWebStorageSupported(auth, cb) {\n      this.assertedUnderlyingResolver._isIframeWebStorageSupported(auth, cb);\n    }\n  }, {\n    key: \"_originValidation\",\n    value: function _originValidation(auth) {\n      return this.assertedUnderlyingResolver._originValidation(auth);\n    }\n  }, {\n    key: \"_shouldInitProactively\",\n    get: function get() {\n      return _isLikelyCordova() || this.browserResolver._shouldInitProactively;\n    }\n  }, {\n    key: \"assertedUnderlyingResolver\",\n    get: function get() {\n      _assert$2(this.underlyingResolver, \"internal-error\"\n      /* INTERNAL_ERROR */\n      );\n\n      return this.underlyingResolver;\n    }\n  }, {\n    key: \"selectUnderlyingResolver\",\n    value: function () {\n      var _selectUnderlyingResolver = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var isCordova;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!this.underlyingResolver) {\n                  _context4.next = 2;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 2:\n                _context4.next = 4;\n                return _isCordova();\n\n              case 4:\n                isCordova = _context4.sent;\n                this.underlyingResolver = isCordova ? this.cordovaResolver : this.browserResolver;\n\n              case 6:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function selectUnderlyingResolver() {\n        return _selectUnderlyingResolver.apply(this, arguments);\n      }\n\n      return selectUnderlyingResolver;\n    }()\n  }]);\n\n  return CompatPopupRedirectResolver;\n}();\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nfunction unwrap(object) {\n  return object.unwrap();\n}\n\nfunction wrapped(object) {\n  return object.wrapped();\n}\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nfunction credentialFromResponse(userCredential) {\n  return credentialFromObject(userCredential);\n}\n\nfunction attachExtraErrorFields(auth, e) {\n  var _a; // The response contains all fields from the server which may or may not\n  // actually match the underlying type\n\n\n  var response = (_a = e.customData) === null || _a === void 0 ? void 0 : _a._tokenResponse;\n\n  if (e.code === 'auth/multi-factor-auth-required') {\n    var mfaErr = e;\n    mfaErr.resolver = new MultiFactorResolver(auth, exp.getMultiFactorResolver(auth, e));\n  } else if (response) {\n    var credential = credentialFromObject(e);\n    var credErr = e;\n\n    if (credential) {\n      credErr.credential = credential;\n      credErr.tenantId = response.tenantId || undefined;\n      credErr.email = response.email || undefined;\n      credErr.phoneNumber = response.phoneNumber || undefined;\n    }\n  }\n}\n\nfunction credentialFromObject(object) {\n  var _ref = object instanceof FirebaseError ? object.customData : object,\n      _tokenResponse = _ref._tokenResponse;\n\n  if (!_tokenResponse) {\n    return null;\n  } // Handle phone Auth credential responses, as they have a different format\n  // from other backend responses (i.e. no providerId). This is also only the\n  // case for user credentials (does not work for errors).\n\n\n  if (!(object instanceof FirebaseError)) {\n    if ('temporaryProof' in _tokenResponse && 'phoneNumber' in _tokenResponse) {\n      return exp.PhoneAuthProvider.credentialFromResult(object);\n    }\n  }\n\n  var providerId = _tokenResponse.providerId; // Email and password is not supported as there is no situation where the\n  // server would return the password to the client.\n\n  if (!providerId || providerId === exp.ProviderId.PASSWORD) {\n    return null;\n  }\n\n  var provider;\n\n  switch (providerId) {\n    case exp.ProviderId.GOOGLE:\n      provider = exp.GoogleAuthProvider;\n      break;\n\n    case exp.ProviderId.FACEBOOK:\n      provider = exp.FacebookAuthProvider;\n      break;\n\n    case exp.ProviderId.GITHUB:\n      provider = exp.GithubAuthProvider;\n      break;\n\n    case exp.ProviderId.TWITTER:\n      provider = exp.TwitterAuthProvider;\n      break;\n\n    default:\n      var oauthIdToken = _tokenResponse.oauthIdToken,\n          oauthAccessToken = _tokenResponse.oauthAccessToken,\n          oauthTokenSecret = _tokenResponse.oauthTokenSecret,\n          pendingToken = _tokenResponse.pendingToken,\n          nonce = _tokenResponse.nonce;\n\n      if (!oauthAccessToken && !oauthTokenSecret && !oauthIdToken && !pendingToken) {\n        return null;\n      } // TODO(avolkovi): uncomment this and get it working with SAML & OIDC\n\n\n      if (pendingToken) {\n        if (providerId.startsWith('saml.')) {\n          return exp.SAMLAuthCredential._create(providerId, pendingToken);\n        } else {\n          // OIDC and non-default providers excluding Twitter.\n          return exp.OAuthCredential._fromParams({\n            providerId: providerId,\n            signInMethod: providerId,\n            pendingToken: pendingToken,\n            idToken: oauthIdToken,\n            accessToken: oauthAccessToken\n          });\n        }\n      }\n\n      return new exp.OAuthProvider(providerId).credential({\n        idToken: oauthIdToken,\n        accessToken: oauthAccessToken,\n        rawNonce: nonce\n      });\n  }\n\n  return object instanceof FirebaseError ? provider.credentialFromError(object) : provider.credentialFromResult(object);\n}\n\nfunction convertCredential(auth, credentialPromise) {\n  return credentialPromise.catch(function (e) {\n    if (e instanceof FirebaseError) {\n      attachExtraErrorFields(auth, e);\n    }\n\n    throw e;\n  }).then(function (credential) {\n    var operationType = credential.operationType;\n    var user = credential.user;\n    return {\n      operationType: operationType,\n      credential: credentialFromResponse(credential),\n      additionalUserInfo: exp.getAdditionalUserInfo(credential),\n      user: User.getOrCreate(user)\n    };\n  });\n}\n\nfunction convertConfirmationResult(_x11, _x12) {\n  return _convertConfirmationResult.apply(this, arguments);\n}\n\nfunction _convertConfirmationResult() {\n  _convertConfirmationResult = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee19(auth, confirmationResultPromise) {\n    var confirmationResultExp;\n    return _regeneratorRuntime.wrap(function _callee19$(_context19) {\n      while (1) {\n        switch (_context19.prev = _context19.next) {\n          case 0:\n            _context19.next = 2;\n            return confirmationResultPromise;\n\n          case 2:\n            confirmationResultExp = _context19.sent;\n            return _context19.abrupt(\"return\", {\n              verificationId: confirmationResultExp.verificationId,\n              confirm: function confirm(verificationCode) {\n                return convertCredential(auth, confirmationResultExp.confirm(verificationCode));\n              }\n            });\n\n          case 4:\n          case \"end\":\n            return _context19.stop();\n        }\n      }\n    }, _callee19);\n  }));\n  return _convertConfirmationResult.apply(this, arguments);\n}\n\nvar MultiFactorResolver = /*#__PURE__*/function () {\n  function MultiFactorResolver(auth, resolver) {\n    _classCallCheck(this, MultiFactorResolver);\n\n    this.resolver = resolver;\n    this.auth = wrapped(auth);\n  }\n\n  _createClass(MultiFactorResolver, [{\n    key: \"session\",\n    get: function get() {\n      return this.resolver.session;\n    }\n  }, {\n    key: \"hints\",\n    get: function get() {\n      return this.resolver.hints;\n    }\n  }, {\n    key: \"resolveSignIn\",\n    value: function resolveSignIn(assertion) {\n      return convertCredential(unwrap(this.auth), this.resolver.resolveSignIn(assertion));\n    }\n  }]);\n\n  return MultiFactorResolver;\n}();\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar User = /*#__PURE__*/function () {\n  function User(_delegate) {\n    _classCallCheck(this, User);\n\n    this._delegate = _delegate;\n    this.multiFactor = exp.multiFactor(_delegate);\n  }\n\n  _createClass(User, [{\n    key: \"delete\",\n    value: function _delete() {\n      return this._delegate.delete();\n    }\n  }, {\n    key: \"reload\",\n    value: function reload() {\n      return this._delegate.reload();\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this._delegate.toJSON();\n    }\n  }, {\n    key: \"getIdTokenResult\",\n    value: function getIdTokenResult(forceRefresh) {\n      return this._delegate.getIdTokenResult(forceRefresh);\n    }\n  }, {\n    key: \"getIdToken\",\n    value: function getIdToken(forceRefresh) {\n      return this._delegate.getIdToken(forceRefresh);\n    }\n  }, {\n    key: \"linkAndRetrieveDataWithCredential\",\n    value: function linkAndRetrieveDataWithCredential(credential) {\n      return this.linkWithCredential(credential);\n    }\n  }, {\n    key: \"linkWithCredential\",\n    value: function () {\n      var _linkWithCredential = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(credential) {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", convertCredential(this.auth, exp.linkWithCredential(this._delegate, credential)));\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function linkWithCredential(_x13) {\n        return _linkWithCredential.apply(this, arguments);\n      }\n\n      return linkWithCredential;\n    }()\n  }, {\n    key: \"linkWithPhoneNumber\",\n    value: function () {\n      var _linkWithPhoneNumber = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(phoneNumber, applicationVerifier) {\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                return _context6.abrupt(\"return\", convertConfirmationResult(this.auth, exp.linkWithPhoneNumber(this._delegate, phoneNumber, applicationVerifier)));\n\n              case 1:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function linkWithPhoneNumber(_x14, _x15) {\n        return _linkWithPhoneNumber.apply(this, arguments);\n      }\n\n      return linkWithPhoneNumber;\n    }()\n  }, {\n    key: \"linkWithPopup\",\n    value: function () {\n      var _linkWithPopup = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(provider) {\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                return _context7.abrupt(\"return\", convertCredential(this.auth, exp.linkWithPopup(this._delegate, provider, CompatPopupRedirectResolver)));\n\n              case 1:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function linkWithPopup(_x16) {\n        return _linkWithPopup.apply(this, arguments);\n      }\n\n      return linkWithPopup;\n    }()\n  }, {\n    key: \"linkWithRedirect\",\n    value: function () {\n      var _linkWithRedirect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(provider) {\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return _savePersistenceForRedirect(exp._castAuth(this.auth));\n\n              case 2:\n                return _context8.abrupt(\"return\", exp.linkWithRedirect(this._delegate, provider, CompatPopupRedirectResolver));\n\n              case 3:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function linkWithRedirect(_x17) {\n        return _linkWithRedirect.apply(this, arguments);\n      }\n\n      return linkWithRedirect;\n    }()\n  }, {\n    key: \"reauthenticateAndRetrieveDataWithCredential\",\n    value: function reauthenticateAndRetrieveDataWithCredential(credential) {\n      return this.reauthenticateWithCredential(credential);\n    }\n  }, {\n    key: \"reauthenticateWithCredential\",\n    value: function () {\n      var _reauthenticateWithCredential = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(credential) {\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                return _context9.abrupt(\"return\", convertCredential(this.auth, exp.reauthenticateWithCredential(this._delegate, credential)));\n\n              case 1:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function reauthenticateWithCredential(_x18) {\n        return _reauthenticateWithCredential.apply(this, arguments);\n      }\n\n      return reauthenticateWithCredential;\n    }()\n  }, {\n    key: \"reauthenticateWithPhoneNumber\",\n    value: function reauthenticateWithPhoneNumber(phoneNumber, applicationVerifier) {\n      return convertConfirmationResult(this.auth, exp.reauthenticateWithPhoneNumber(this._delegate, phoneNumber, applicationVerifier));\n    }\n  }, {\n    key: \"reauthenticateWithPopup\",\n    value: function reauthenticateWithPopup(provider) {\n      return convertCredential(this.auth, exp.reauthenticateWithPopup(this._delegate, provider, CompatPopupRedirectResolver));\n    }\n  }, {\n    key: \"reauthenticateWithRedirect\",\n    value: function () {\n      var _reauthenticateWithRedirect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(provider) {\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.next = 2;\n                return _savePersistenceForRedirect(exp._castAuth(this.auth));\n\n              case 2:\n                return _context10.abrupt(\"return\", exp.reauthenticateWithRedirect(this._delegate, provider, CompatPopupRedirectResolver));\n\n              case 3:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function reauthenticateWithRedirect(_x19) {\n        return _reauthenticateWithRedirect.apply(this, arguments);\n      }\n\n      return reauthenticateWithRedirect;\n    }()\n  }, {\n    key: \"sendEmailVerification\",\n    value: function sendEmailVerification(actionCodeSettings) {\n      return exp.sendEmailVerification(this._delegate, actionCodeSettings);\n    }\n  }, {\n    key: \"unlink\",\n    value: function () {\n      var _unlink = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(providerId) {\n        return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _context11.next = 2;\n                return exp.unlink(this._delegate, providerId);\n\n              case 2:\n                return _context11.abrupt(\"return\", this);\n\n              case 3:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function unlink(_x20) {\n        return _unlink.apply(this, arguments);\n      }\n\n      return unlink;\n    }()\n  }, {\n    key: \"updateEmail\",\n    value: function updateEmail(newEmail) {\n      return exp.updateEmail(this._delegate, newEmail);\n    }\n  }, {\n    key: \"updatePassword\",\n    value: function updatePassword(newPassword) {\n      return exp.updatePassword(this._delegate, newPassword);\n    }\n  }, {\n    key: \"updatePhoneNumber\",\n    value: function updatePhoneNumber(phoneCredential) {\n      return exp.updatePhoneNumber(this._delegate, phoneCredential);\n    }\n  }, {\n    key: \"updateProfile\",\n    value: function updateProfile(profile) {\n      return exp.updateProfile(this._delegate, profile);\n    }\n  }, {\n    key: \"verifyBeforeUpdateEmail\",\n    value: function verifyBeforeUpdateEmail(newEmail, actionCodeSettings) {\n      return exp.verifyBeforeUpdateEmail(this._delegate, newEmail, actionCodeSettings);\n    }\n  }, {\n    key: \"emailVerified\",\n    get: function get() {\n      return this._delegate.emailVerified;\n    }\n  }, {\n    key: \"isAnonymous\",\n    get: function get() {\n      return this._delegate.isAnonymous;\n    }\n  }, {\n    key: \"metadata\",\n    get: function get() {\n      return this._delegate.metadata;\n    }\n  }, {\n    key: \"phoneNumber\",\n    get: function get() {\n      return this._delegate.phoneNumber;\n    }\n  }, {\n    key: \"providerData\",\n    get: function get() {\n      return this._delegate.providerData;\n    }\n  }, {\n    key: \"refreshToken\",\n    get: function get() {\n      return this._delegate.refreshToken;\n    }\n  }, {\n    key: \"tenantId\",\n    get: function get() {\n      return this._delegate.tenantId;\n    }\n  }, {\n    key: \"displayName\",\n    get: function get() {\n      return this._delegate.displayName;\n    }\n  }, {\n    key: \"email\",\n    get: function get() {\n      return this._delegate.email;\n    }\n  }, {\n    key: \"photoURL\",\n    get: function get() {\n      return this._delegate.photoURL;\n    }\n  }, {\n    key: \"providerId\",\n    get: function get() {\n      return this._delegate.providerId;\n    }\n  }, {\n    key: \"uid\",\n    get: function get() {\n      return this._delegate.uid;\n    }\n  }, {\n    key: \"auth\",\n    get: function get() {\n      return this._delegate.auth;\n    }\n  }], [{\n    key: \"getOrCreate\",\n    value: function getOrCreate(user) {\n      if (!User.USER_MAP.has(user)) {\n        User.USER_MAP.set(user, new User(user));\n      }\n\n      return User.USER_MAP.get(user);\n    }\n  }]);\n\n  return User;\n}(); // Maintain a map so that there's always a 1:1 mapping between new User and\n// legacy compat users\n\n\nUser.USER_MAP = new WeakMap();\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nvar _assert$1 = exp._assert;\n\nvar Auth = /*#__PURE__*/function () {\n  function Auth(app, provider) {\n    _classCallCheck(this, Auth);\n\n    this.app = app;\n\n    if (provider.isInitialized()) {\n      this._delegate = provider.getImmediate();\n      this.linkUnderlyingAuth();\n      return;\n    }\n\n    var apiKey = app.options.apiKey; // TODO: platform needs to be determined using heuristics\n\n    _assert$1(apiKey, \"invalid-api-key\"\n    /* INVALID_API_KEY */\n    , {\n      appName: app.name\n    }); // TODO: platform needs to be determined using heuristics\n\n\n    _assert$1(apiKey, \"invalid-api-key\"\n    /* INVALID_API_KEY */\n    , {\n      appName: app.name\n    }); // Only use a popup/redirect resolver in browser environments\n\n\n    var resolver = typeof window !== 'undefined' ? CompatPopupRedirectResolver : undefined;\n    this._delegate = provider.initialize({\n      options: {\n        persistence: buildPersistenceHierarchy(apiKey, app.name),\n        popupRedirectResolver: resolver\n      }\n    });\n\n    this._delegate._updateErrorMap(exp.debugErrorMap);\n\n    this.linkUnderlyingAuth();\n  }\n\n  _createClass(Auth, [{\n    key: \"emulatorConfig\",\n    get: function get() {\n      return this._delegate.emulatorConfig;\n    }\n  }, {\n    key: \"currentUser\",\n    get: function get() {\n      if (!this._delegate.currentUser) {\n        return null;\n      }\n\n      return User.getOrCreate(this._delegate.currentUser);\n    }\n  }, {\n    key: \"languageCode\",\n    get: function get() {\n      return this._delegate.languageCode;\n    },\n    set: function set(languageCode) {\n      this._delegate.languageCode = languageCode;\n    }\n  }, {\n    key: \"settings\",\n    get: function get() {\n      return this._delegate.settings;\n    }\n  }, {\n    key: \"tenantId\",\n    get: function get() {\n      return this._delegate.tenantId;\n    },\n    set: function set(tid) {\n      this._delegate.tenantId = tid;\n    }\n  }, {\n    key: \"useDeviceLanguage\",\n    value: function useDeviceLanguage() {\n      this._delegate.useDeviceLanguage();\n    }\n  }, {\n    key: \"signOut\",\n    value: function signOut() {\n      return this._delegate.signOut();\n    }\n  }, {\n    key: \"useEmulator\",\n    value: function useEmulator(url, options) {\n      exp.connectAuthEmulator(this._delegate, url, options);\n    }\n  }, {\n    key: \"applyActionCode\",\n    value: function applyActionCode(code) {\n      return exp.applyActionCode(this._delegate, code);\n    }\n  }, {\n    key: \"checkActionCode\",\n    value: function checkActionCode(code) {\n      return exp.checkActionCode(this._delegate, code);\n    }\n  }, {\n    key: \"confirmPasswordReset\",\n    value: function confirmPasswordReset(code, newPassword) {\n      return exp.confirmPasswordReset(this._delegate, code, newPassword);\n    }\n  }, {\n    key: \"createUserWithEmailAndPassword\",\n    value: function () {\n      var _createUserWithEmailAndPassword = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(email, password) {\n        return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                return _context12.abrupt(\"return\", convertCredential(this._delegate, exp.createUserWithEmailAndPassword(this._delegate, email, password)));\n\n              case 1:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function createUserWithEmailAndPassword(_x21, _x22) {\n        return _createUserWithEmailAndPassword.apply(this, arguments);\n      }\n\n      return createUserWithEmailAndPassword;\n    }()\n  }, {\n    key: \"fetchProvidersForEmail\",\n    value: function fetchProvidersForEmail(email) {\n      return this.fetchSignInMethodsForEmail(email);\n    }\n  }, {\n    key: \"fetchSignInMethodsForEmail\",\n    value: function fetchSignInMethodsForEmail(email) {\n      return exp.fetchSignInMethodsForEmail(this._delegate, email);\n    }\n  }, {\n    key: \"isSignInWithEmailLink\",\n    value: function isSignInWithEmailLink(emailLink) {\n      return exp.isSignInWithEmailLink(this._delegate, emailLink);\n    }\n  }, {\n    key: \"getRedirectResult\",\n    value: function () {\n      var _getRedirectResult = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13() {\n        var credential;\n        return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _assert$1(_isPopupRedirectSupported(), this._delegate, \"operation-not-supported-in-this-environment\"\n                /* OPERATION_NOT_SUPPORTED */\n                );\n\n                _context13.next = 3;\n                return exp.getRedirectResult(this._delegate, CompatPopupRedirectResolver);\n\n              case 3:\n                credential = _context13.sent;\n\n                if (credential) {\n                  _context13.next = 6;\n                  break;\n                }\n\n                return _context13.abrupt(\"return\", {\n                  credential: null,\n                  user: null\n                });\n\n              case 6:\n                return _context13.abrupt(\"return\", convertCredential(this._delegate, Promise.resolve(credential)));\n\n              case 7:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function getRedirectResult() {\n        return _getRedirectResult.apply(this, arguments);\n      }\n\n      return getRedirectResult;\n    }() // This function should only be called by frameworks (e.g. FirebaseUI-web) to log their usage.\n    // It is not intended for direct use by developer apps. NO jsdoc here to intentionally leave it\n    // out of autogenerated documentation pages to reduce accidental misuse.\n\n  }, {\n    key: \"addFrameworkForLogging\",\n    value: function addFrameworkForLogging(framework) {\n      exp.addFrameworkForLogging(this._delegate, framework);\n    }\n  }, {\n    key: \"onAuthStateChanged\",\n    value: function onAuthStateChanged(nextOrObserver, errorFn, completed) {\n      var _wrapObservers = wrapObservers(nextOrObserver, errorFn, completed),\n          next = _wrapObservers.next,\n          error = _wrapObservers.error,\n          complete = _wrapObservers.complete;\n\n      return this._delegate.onAuthStateChanged(next, error, complete);\n    }\n  }, {\n    key: \"onIdTokenChanged\",\n    value: function onIdTokenChanged(nextOrObserver, errorFn, completed) {\n      var _wrapObservers2 = wrapObservers(nextOrObserver, errorFn, completed),\n          next = _wrapObservers2.next,\n          error = _wrapObservers2.error,\n          complete = _wrapObservers2.complete;\n\n      return this._delegate.onIdTokenChanged(next, error, complete);\n    }\n  }, {\n    key: \"sendSignInLinkToEmail\",\n    value: function sendSignInLinkToEmail(email, actionCodeSettings) {\n      return exp.sendSignInLinkToEmail(this._delegate, email, actionCodeSettings);\n    }\n  }, {\n    key: \"sendPasswordResetEmail\",\n    value: function sendPasswordResetEmail(email, actionCodeSettings) {\n      return exp.sendPasswordResetEmail(this._delegate, email, actionCodeSettings || undefined);\n    }\n  }, {\n    key: \"setPersistence\",\n    value: function () {\n      var _setPersistence = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14(persistence) {\n        var converted, isIndexedDBFullySupported;\n        return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                _validatePersistenceArgument(this._delegate, persistence);\n\n                _context14.t0 = persistence;\n                _context14.next = _context14.t0 === Persistence.SESSION ? 4 : _context14.t0 === Persistence.LOCAL ? 6 : _context14.t0 === Persistence.NONE ? 11 : 13;\n                break;\n\n              case 4:\n                converted = exp.browserSessionPersistence;\n                return _context14.abrupt(\"break\", 14);\n\n              case 6:\n                _context14.next = 8;\n                return exp._getInstance(exp.indexedDBLocalPersistence)._isAvailable();\n\n              case 8:\n                isIndexedDBFullySupported = _context14.sent;\n                converted = isIndexedDBFullySupported ? exp.indexedDBLocalPersistence : exp.browserLocalPersistence;\n                return _context14.abrupt(\"break\", 14);\n\n              case 11:\n                converted = exp.inMemoryPersistence;\n                return _context14.abrupt(\"break\", 14);\n\n              case 13:\n                return _context14.abrupt(\"return\", exp._fail(\"argument-error\"\n                /* ARGUMENT_ERROR */\n                , {\n                  appName: this._delegate.name\n                }));\n\n              case 14:\n                return _context14.abrupt(\"return\", this._delegate.setPersistence(converted));\n\n              case 15:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n\n      function setPersistence(_x23) {\n        return _setPersistence.apply(this, arguments);\n      }\n\n      return setPersistence;\n    }()\n  }, {\n    key: \"signInAndRetrieveDataWithCredential\",\n    value: function signInAndRetrieveDataWithCredential(credential) {\n      return this.signInWithCredential(credential);\n    }\n  }, {\n    key: \"signInAnonymously\",\n    value: function signInAnonymously() {\n      return convertCredential(this._delegate, exp.signInAnonymously(this._delegate));\n    }\n  }, {\n    key: \"signInWithCredential\",\n    value: function signInWithCredential(credential) {\n      return convertCredential(this._delegate, exp.signInWithCredential(this._delegate, credential));\n    }\n  }, {\n    key: \"signInWithCustomToken\",\n    value: function signInWithCustomToken(token) {\n      return convertCredential(this._delegate, exp.signInWithCustomToken(this._delegate, token));\n    }\n  }, {\n    key: \"signInWithEmailAndPassword\",\n    value: function signInWithEmailAndPassword(email, password) {\n      return convertCredential(this._delegate, exp.signInWithEmailAndPassword(this._delegate, email, password));\n    }\n  }, {\n    key: \"signInWithEmailLink\",\n    value: function signInWithEmailLink(email, emailLink) {\n      return convertCredential(this._delegate, exp.signInWithEmailLink(this._delegate, email, emailLink));\n    }\n  }, {\n    key: \"signInWithPhoneNumber\",\n    value: function signInWithPhoneNumber(phoneNumber, applicationVerifier) {\n      return convertConfirmationResult(this._delegate, exp.signInWithPhoneNumber(this._delegate, phoneNumber, applicationVerifier));\n    }\n  }, {\n    key: \"signInWithPopup\",\n    value: function () {\n      var _signInWithPopup = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15(provider) {\n        return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                _assert$1(_isPopupRedirectSupported(), this._delegate, \"operation-not-supported-in-this-environment\"\n                /* OPERATION_NOT_SUPPORTED */\n                );\n\n                return _context15.abrupt(\"return\", convertCredential(this._delegate, exp.signInWithPopup(this._delegate, provider, CompatPopupRedirectResolver)));\n\n              case 2:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      function signInWithPopup(_x24) {\n        return _signInWithPopup.apply(this, arguments);\n      }\n\n      return signInWithPopup;\n    }()\n  }, {\n    key: \"signInWithRedirect\",\n    value: function () {\n      var _signInWithRedirect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16(provider) {\n        return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                _assert$1(_isPopupRedirectSupported(), this._delegate, \"operation-not-supported-in-this-environment\"\n                /* OPERATION_NOT_SUPPORTED */\n                );\n\n                _context16.next = 3;\n                return _savePersistenceForRedirect(this._delegate);\n\n              case 3:\n                return _context16.abrupt(\"return\", exp.signInWithRedirect(this._delegate, provider, CompatPopupRedirectResolver));\n\n              case 4:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, this);\n      }));\n\n      function signInWithRedirect(_x25) {\n        return _signInWithRedirect.apply(this, arguments);\n      }\n\n      return signInWithRedirect;\n    }()\n  }, {\n    key: \"updateCurrentUser\",\n    value: function updateCurrentUser(user) {\n      // remove ts-ignore once overloads are defined for exp functions to accept compat objects\n      // @ts-ignore\n      return this._delegate.updateCurrentUser(user);\n    }\n  }, {\n    key: \"verifyPasswordResetCode\",\n    value: function verifyPasswordResetCode(code) {\n      return exp.verifyPasswordResetCode(this._delegate, code);\n    }\n  }, {\n    key: \"unwrap\",\n    value: function unwrap() {\n      return this._delegate;\n    }\n  }, {\n    key: \"_delete\",\n    value: function _delete() {\n      return this._delegate._delete();\n    }\n  }, {\n    key: \"linkUnderlyingAuth\",\n    value: function linkUnderlyingAuth() {\n      var _this = this;\n\n      this._delegate.wrapped = function () {\n        return _this;\n      };\n    }\n  }]);\n\n  return Auth;\n}();\n\nAuth.Persistence = Persistence;\n\nfunction wrapObservers(nextOrObserver, error, complete) {\n  var next = nextOrObserver;\n\n  if (typeof nextOrObserver !== 'function') {\n    next = nextOrObserver.next;\n    error = nextOrObserver.error;\n    complete = nextOrObserver.complete;\n  } // We know 'next' is now a function\n\n\n  var oldNext = next;\n\n  var newNext = function newNext(user) {\n    return oldNext(user && User.getOrCreate(user));\n  };\n\n  return {\n    next: newNext,\n    error: error,\n    complete: complete\n  };\n}\n\nfunction buildPersistenceHierarchy(apiKey, appName) {\n  // Note this is slightly different behavior: in this case, the stored\n  // persistence is checked *first* rather than last. This is because we want\n  // to prefer stored persistence type in the hierarchy. This is an empty\n  // array if window is not available or there is no pending redirect\n  var persistences = _getPersistencesFromRedirect(apiKey, appName); // If \"self\" is available, add indexedDB\n\n\n  if (typeof self !== 'undefined' && !persistences.includes(exp.indexedDBLocalPersistence)) {\n    persistences.push(exp.indexedDBLocalPersistence);\n  } // If \"window\" is available, add HTML Storage persistences\n\n\n  if (typeof window !== 'undefined') {\n    for (var _i = 0, _arr = [exp.browserLocalPersistence, exp.browserSessionPersistence]; _i < _arr.length; _i++) {\n      var persistence = _arr[_i];\n\n      if (!persistences.includes(persistence)) {\n        persistences.push(persistence);\n      }\n    }\n  } // Add in-memory as a final fallback\n\n\n  if (!persistences.includes(exp.inMemoryPersistence)) {\n    persistences.push(exp.inMemoryPersistence);\n  }\n\n  return persistences;\n}\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar PhoneAuthProvider = /*#__PURE__*/function () {\n  function PhoneAuthProvider() {\n    _classCallCheck(this, PhoneAuthProvider);\n\n    this.providerId = 'phone'; // TODO: remove ts-ignore when moving types from auth-types to auth-compat\n    // @ts-ignore\n\n    this._delegate = new exp.PhoneAuthProvider(unwrap(firebase.auth()));\n  }\n\n  _createClass(PhoneAuthProvider, [{\n    key: \"verifyPhoneNumber\",\n    value: function verifyPhoneNumber(phoneInfoOptions, applicationVerifier) {\n      return this._delegate.verifyPhoneNumber( // The implementation matches but the types are subtly incompatible\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      phoneInfoOptions, applicationVerifier);\n    }\n  }, {\n    key: \"unwrap\",\n    value: function unwrap() {\n      return this._delegate;\n    }\n  }], [{\n    key: \"credential\",\n    value: function credential(verificationId, verificationCode) {\n      return exp.PhoneAuthProvider.credential(verificationId, verificationCode);\n    }\n  }]);\n\n  return PhoneAuthProvider;\n}();\n\nPhoneAuthProvider.PHONE_SIGN_IN_METHOD = exp.PhoneAuthProvider.PHONE_SIGN_IN_METHOD;\nPhoneAuthProvider.PROVIDER_ID = exp.PhoneAuthProvider.PROVIDER_ID;\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nvar _assert = exp._assert;\n\nvar RecaptchaVerifier = /*#__PURE__*/function () {\n  function RecaptchaVerifier(container, parameters) {\n    var app = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : firebase.app();\n\n    _classCallCheck(this, RecaptchaVerifier);\n\n    var _a; // API key is required for web client RPC calls.\n\n\n    _assert((_a = app.options) === null || _a === void 0 ? void 0 : _a.apiKey, \"invalid-api-key\"\n    /* INVALID_API_KEY */\n    , {\n      appName: app.name\n    });\n\n    this._delegate = new exp.RecaptchaVerifier(container, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    parameters, // TODO: remove ts-ignore when moving types from auth-types to auth-compat\n    // @ts-ignore\n    app.auth());\n    this.type = this._delegate.type;\n  }\n\n  _createClass(RecaptchaVerifier, [{\n    key: \"clear\",\n    value: function clear() {\n      this._delegate.clear();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this._delegate.render();\n    }\n  }, {\n    key: \"verify\",\n    value: function verify() {\n      return this._delegate.verify();\n    }\n  }]);\n\n  return RecaptchaVerifier;\n}();\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar AUTH_TYPE = 'auth-compat'; // Create auth components to register with firebase.\n// Provides Auth public APIs.\n\nfunction registerAuthCompat(instance) {\n  instance.INTERNAL.registerComponent(new Component(AUTH_TYPE, function (container) {\n    // getImmediate for FirebaseApp will always succeed\n    var app = container.getProvider('app-compat').getImmediate();\n    var authProvider = container.getProvider('auth');\n    return new Auth(app, authProvider);\n  }, \"PUBLIC\"\n  /* PUBLIC */\n  ).setServiceProps({\n    ActionCodeInfo: {\n      Operation: {\n        EMAIL_SIGNIN: exp.ActionCodeOperation.EMAIL_SIGNIN,\n        PASSWORD_RESET: exp.ActionCodeOperation.PASSWORD_RESET,\n        RECOVER_EMAIL: exp.ActionCodeOperation.RECOVER_EMAIL,\n        REVERT_SECOND_FACTOR_ADDITION: exp.ActionCodeOperation.REVERT_SECOND_FACTOR_ADDITION,\n        VERIFY_AND_CHANGE_EMAIL: exp.ActionCodeOperation.VERIFY_AND_CHANGE_EMAIL,\n        VERIFY_EMAIL: exp.ActionCodeOperation.VERIFY_EMAIL\n      }\n    },\n    EmailAuthProvider: exp.EmailAuthProvider,\n    FacebookAuthProvider: exp.FacebookAuthProvider,\n    GithubAuthProvider: exp.GithubAuthProvider,\n    GoogleAuthProvider: exp.GoogleAuthProvider,\n    OAuthProvider: exp.OAuthProvider,\n    SAMLAuthProvider: exp.SAMLAuthProvider,\n    PhoneAuthProvider: PhoneAuthProvider,\n    PhoneMultiFactorGenerator: exp.PhoneMultiFactorGenerator,\n    RecaptchaVerifier: RecaptchaVerifier,\n    TwitterAuthProvider: exp.TwitterAuthProvider,\n    Auth: Auth,\n    AuthCredential: exp.AuthCredential,\n    Error: FirebaseError\n  }).setInstantiationMode(\"LAZY\"\n  /* LAZY */\n  ).setMultipleInstances(false));\n  instance.registerVersion(name, version);\n}\n\nregisterAuthCompat(firebase);","map":{"version":3,"mappings":"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","names":["CORDOVA_ONDEVICEREADY_TIMEOUT_MS","_getCurrentScheme","location","_a","protocol","_isHttpOrHttps","_isAndroidOrIosCordovaScheme","ua","getUA","toLowerCase","match","_isNativeEnvironment","isReactNative","isNode","_isIe11","isIE","documentMode","_isEdge","test","_isLocalStorageNotSynchronized","_isWebStorageSupported","storage","self","localStorage","key","impl","_generateEventId","isIndexedDBAvailable","e","_isWorker","global","_isPopupRedirectSupported","isBrowserExtension","_isLikelyCordova","document","_isCordova","Promise","timeoutId","setTimeout","resolve","addEventListener","clearTimeout","_getSelfWindow","window","Persistence","LOCAL","NONE","SESSION","_assert","exp","PERSISTENCE_KEY","_validatePersistenceArgument","auth","persistence","Object","values","includes","_savePersistenceForRedirect","_initializationPromise","session","getSessionStorageIfAvailable","_persistenceKeyName","config","apiKey","name","setItem","_getPersistence","_getPersistencesFromRedirect","appName","getItem","inMemoryPersistence","indexedDBLocalPersistence","browserSessionPersistence","sessionStorage","CompatPopupRedirectResolver","_getInstance","browserPopupRedirectResolver","cordovaPopupRedirectResolver","_getRedirectResult","selectUnderlyingResolver","assertedUnderlyingResolver","_initialize","provider","authType","eventId","_openPopup","_openRedirect","cb","_isIframeWebStorageSupported","_originValidation","browserResolver","_shouldInitProactively","underlyingResolver","isCordova","cordovaResolver","unwrap","object","wrapped","credentialFromResponse","userCredential","credentialFromObject","attachExtraErrorFields","response","customData","_tokenResponse","code","mfaErr","resolver","MultiFactorResolver","getMultiFactorResolver","credential","credErr","tenantId","undefined","email","phoneNumber","FirebaseError","PhoneAuthProvider","credentialFromResult","providerId","ProviderId","PASSWORD","GOOGLE","GoogleAuthProvider","FACEBOOK","FacebookAuthProvider","GITHUB","GithubAuthProvider","TWITTER","TwitterAuthProvider","oauthIdToken","oauthAccessToken","oauthTokenSecret","pendingToken","nonce","startsWith","SAMLAuthCredential","_create","OAuthCredential","_fromParams","signInMethod","idToken","accessToken","OAuthProvider","rawNonce","credentialFromError","convertCredential","credentialPromise","catch","then","operationType","user","additionalUserInfo","getAdditionalUserInfo","User","getOrCreate","convertConfirmationResult","confirmationResultPromise","confirmationResultExp","verificationId","confirm","verificationCode","hints","assertion","resolveSignIn","_delegate","multiFactor","delete","reload","toJSON","forceRefresh","getIdTokenResult","getIdToken","linkWithCredential","applicationVerifier","linkWithPhoneNumber","linkWithPopup","_castAuth","linkWithRedirect","reauthenticateWithCredential","reauthenticateWithPhoneNumber","reauthenticateWithPopup","reauthenticateWithRedirect","actionCodeSettings","sendEmailVerification","unlink","newEmail","updateEmail","newPassword","updatePassword","phoneCredential","updatePhoneNumber","profile","updateProfile","verifyBeforeUpdateEmail","emailVerified","isAnonymous","metadata","providerData","refreshToken","displayName","photoURL","uid","USER_MAP","has","set","get","WeakMap","Auth","app","isInitialized","getImmediate","linkUnderlyingAuth","options","initialize","buildPersistenceHierarchy","popupRedirectResolver","_updateErrorMap","debugErrorMap","emulatorConfig","currentUser","languageCode","settings","tid","useDeviceLanguage","signOut","url","connectAuthEmulator","applyActionCode","checkActionCode","confirmPasswordReset","password","createUserWithEmailAndPassword","fetchSignInMethodsForEmail","emailLink","isSignInWithEmailLink","getRedirectResult","framework","addFrameworkForLogging","nextOrObserver","errorFn","completed","wrapObservers","next","error","complete","onAuthStateChanged","onIdTokenChanged","sendSignInLinkToEmail","sendPasswordResetEmail","converted","_isAvailable","isIndexedDBFullySupported","browserLocalPersistence","_fail","setPersistence","signInWithCredential","signInAnonymously","token","signInWithCustomToken","signInWithEmailAndPassword","signInWithEmailLink","signInWithPhoneNumber","signInWithPopup","signInWithRedirect","updateCurrentUser","verifyPasswordResetCode","_delete","oldNext","newNext","persistences","push","firebase","phoneInfoOptions","verifyPhoneNumber","PHONE_SIGN_IN_METHOD","PROVIDER_ID","RecaptchaVerifier","container","parameters","type","clear","render","verify","AUTH_TYPE","registerAuthCompat","instance","INTERNAL","registerComponent","Component","getProvider","authProvider","setServiceProps","ActionCodeInfo","Operation","EMAIL_SIGNIN","ActionCodeOperation","PASSWORD_RESET","RECOVER_EMAIL","REVERT_SECOND_FACTOR_ADDITION","VERIFY_AND_CHANGE_EMAIL","VERIFY_EMAIL","EmailAuthProvider","SAMLAuthProvider","CompatAuthProvider","PhoneMultiFactorGenerator","CompatRecaptchaVerifier","AuthCredential","Error","setInstantiationMode","setMultipleInstances","registerVersion","version"],"sources":["."],"sourcesContent":["/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable camelcase */\n\nimport firebase, { _FirebaseNamespace } from '@firebase/app-compat';\nimport * as impl from '@firebase/auth/internal';\nimport {\n  Component,\n  ComponentType,\n  InstantiationMode\n} from '@firebase/component';\nimport { FirebaseError } from '@firebase/util';\n\nimport * as types from '@firebase/auth-types';\nimport { name, version } from './package.json';\nimport { Auth } from './src/auth';\nimport { PhoneAuthProvider as CompatAuthProvider } from './src/phone_auth_provider';\nimport { RecaptchaVerifier as CompatRecaptchaVerifier } from './src/recaptcha_verifier';\n\nconst AUTH_TYPE = 'auth-compat';\n\ndeclare module '@firebase/component' {\n  interface NameServiceMapping {\n    'auth-compat': types.FirebaseAuth;\n  }\n}\n\ndeclare module '@firebase/app-compat' {\n  interface FirebaseNamespace {\n    auth: {\n      (app?: FirebaseApp): types.FirebaseAuth;\n      Auth: typeof types.FirebaseAuth;\n      EmailAuthProvider: typeof types.EmailAuthProvider;\n      EmailAuthProvider_Instance: typeof types.EmailAuthProvider_Instance;\n      FacebookAuthProvider: typeof types.FacebookAuthProvider;\n      FacebookAuthProvider_Instance: typeof types.FacebookAuthProvider_Instance;\n      GithubAuthProvider: typeof types.GithubAuthProvider;\n      GithubAuthProvider_Instance: typeof types.GithubAuthProvider_Instance;\n      GoogleAuthProvider: typeof types.GoogleAuthProvider;\n      GoogleAuthProvider_Instance: typeof types.GoogleAuthProvider_Instance;\n      OAuthProvider: typeof types.OAuthProvider;\n      SAMLAuthProvider: typeof types.SAMLAuthProvider;\n      PhoneAuthProvider: typeof types.PhoneAuthProvider;\n      PhoneAuthProvider_Instance: typeof types.PhoneAuthProvider_Instance;\n      PhoneMultiFactorGenerator: typeof types.PhoneMultiFactorGenerator;\n      RecaptchaVerifier: typeof types.RecaptchaVerifier;\n      RecaptchaVerifier_Instance: typeof types.RecaptchaVerifier_Instance;\n      TwitterAuthProvider: typeof types.TwitterAuthProvider;\n      TwitterAuthProvider_Instance: typeof types.TwitterAuthProvider_Instance;\n    };\n  }\n  interface FirebaseApp {\n    auth?(): types.FirebaseAuth;\n  }\n}\n\n// Create auth components to register with firebase.\n// Provides Auth public APIs.\nfunction registerAuthCompat(instance: _FirebaseNamespace): void {\n  instance.INTERNAL.registerComponent(\n    new Component(\n      AUTH_TYPE,\n      container => {\n        // getImmediate for FirebaseApp will always succeed\n        const app = container.getProvider('app-compat').getImmediate();\n        const authProvider = container.getProvider('auth');\n        return new Auth(app, authProvider);\n      },\n      ComponentType.PUBLIC\n    )\n      .setServiceProps({\n        ActionCodeInfo: {\n          Operation: {\n            EMAIL_SIGNIN: impl.ActionCodeOperation.EMAIL_SIGNIN,\n            PASSWORD_RESET: impl.ActionCodeOperation.PASSWORD_RESET,\n            RECOVER_EMAIL: impl.ActionCodeOperation.RECOVER_EMAIL,\n            REVERT_SECOND_FACTOR_ADDITION:\n              impl.ActionCodeOperation.REVERT_SECOND_FACTOR_ADDITION,\n            VERIFY_AND_CHANGE_EMAIL:\n              impl.ActionCodeOperation.VERIFY_AND_CHANGE_EMAIL,\n            VERIFY_EMAIL: impl.ActionCodeOperation.VERIFY_EMAIL\n          }\n        },\n        EmailAuthProvider: impl.EmailAuthProvider,\n        FacebookAuthProvider: impl.FacebookAuthProvider,\n        GithubAuthProvider: impl.GithubAuthProvider,\n        GoogleAuthProvider: impl.GoogleAuthProvider,\n        OAuthProvider: impl.OAuthProvider,\n        SAMLAuthProvider: impl.SAMLAuthProvider,\n        PhoneAuthProvider: CompatAuthProvider,\n        PhoneMultiFactorGenerator: impl.PhoneMultiFactorGenerator,\n        RecaptchaVerifier: CompatRecaptchaVerifier,\n        TwitterAuthProvider: impl.TwitterAuthProvider,\n        Auth,\n        AuthCredential: impl.AuthCredential,\n        Error: FirebaseError\n      })\n      .setInstantiationMode(InstantiationMode.LAZY)\n      .setMultipleInstances(false)\n  );\n\n  instance.registerVersion(name, version);\n}\n\nregisterAuthCompat(firebase as _FirebaseNamespace);\n"]},"metadata":{},"sourceType":"module"}