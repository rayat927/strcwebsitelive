{"ast":null,"code":"import _slicedToArray from\"F:/strc/website/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./AddProject.css';import{db,storage}from'../../firebase/firebase';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddProject(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),image=_useState2[0],setImage=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),imagePreview=_useState8[0],setImagePreview=_useState8[1];var handleUpload=function handleUpload(e){e.preventDefault();var uploadTask=storage.ref(\"images/\".concat(image.name)).put(image);uploadTask.on(\"state_changed\",function(snapshot){},function(error){console.log(error);},function(){return storage.ref('images').child(image.name).getDownloadURL().then(function(url){db.collection('projects').add({image:url,title:title,details:description});});});};return/*#__PURE__*/_jsx(\"div\",{className:\"AddProject\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpload,action:\"\",className:\"addForm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"preview\",children:[/*#__PURE__*/_jsx(\"img\",{src:imagePreview,className:\"preview-image\"}),/*#__PURE__*/_jsx(\"p\",{children:\"(700x300)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-input-field\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"image-input\",children:\"Upload Image\"}),/*#__PURE__*/_jsx(\"input\",{id:\"image-input\",onChange:function onChange(e){setImage(e.target.files[0]);setImagePreview(URL.createObjectURL(e.target.files[0]));},type:\"file\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"input-field\",children:/*#__PURE__*/_jsx(\"input\",{value:title,onChange:function onChange(e){return setTitle(e.target.value);},placeholder:\"Title\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Details\",className:\"description-field\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}})}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"login-btn\",value:\"Post\"})]})});}export default AddProject;","map":{"version":3,"sources":["F:/strc/website/src/Containers/AddProject/AddProject.js"],"names":["React","useState","db","storage","AddProject","image","setImage","title","setTitle","description","setDescription","imagePreview","setImagePreview","handleUpload","e","preventDefault","uploadTask","ref","name","put","on","snapshot","error","console","log","child","getDownloadURL","then","url","collection","add","details","target","files","URL","createObjectURL","value"],"mappings":"qGAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAO,kBAAP,CACA,OAASC,EAAT,CAAaC,OAAb,KAA4B,yBAA5B,C,wFAEA,QAASC,CAAAA,UAAT,EAAsB,CACpB,cAA0BH,QAAQ,EAAlC,wCAAOI,KAAP,eAAcC,QAAd,eACA,eAA0BL,QAAQ,EAAlC,yCAAOM,KAAP,eAAcC,QAAd,eACA,eAAsCP,QAAQ,CAAC,EAAD,CAA9C,yCAAOQ,WAAP,eAAoBC,cAApB,eACA,eAAuCT,QAAQ,EAA/C,yCAAMU,YAAN,eAAoBC,eAApB,eAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GACA,GAAMC,CAAAA,UAAU,CAAGb,OAAO,CAACc,GAAR,kBAAsBZ,KAAK,CAACa,IAA5B,GAAoCC,GAApC,CAAwCd,KAAxC,CAAnB,CACAW,UAAU,CAACI,EAAX,CACE,eADF,CAEE,SAAAC,QAAQ,CAAI,CAAE,CAFhB,CAGE,SAAAC,KAAK,CAAI,CACPC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CALH,CAME,iBAAMnB,CAAAA,OAAO,CACXc,GADI,CACA,QADA,EAEHQ,KAFG,CAEGpB,KAAK,CAACa,IAFT,EAGHQ,cAHG,GAIHC,IAJG,CAIE,SAAAC,GAAG,CAAI,CACX1B,EAAE,CAAC2B,UAAH,CAAc,UAAd,EAA0BC,GAA1B,CAA8B,CAC5BzB,KAAK,CAAEuB,GADqB,CAE5BrB,KAAK,CAALA,KAF4B,CAG5BwB,OAAO,CAAEtB,WAHmB,CAA9B,EAKH,CAVK,CAAN,EANF,EAmBD,CAtBD,CAwBA,mBACE,YAAK,SAAS,CAAC,YAAf,uBACM,cAAM,QAAQ,CAAEI,YAAhB,CAA8B,MAAM,CAAC,EAArC,CAAwC,SAAS,CAAC,SAAlD,wBACI,aAAK,SAAS,CAAC,SAAf,wBAEE,YAAK,GAAG,CAAEF,YAAV,CAAwB,SAAS,CAAC,eAAlC,EAFF,cAGE,gCAHF,GADJ,cAMI,aAAK,SAAS,CAAC,kBAAf,wBACE,cAAO,GAAG,CAAC,aAAX,0BADF,cAEJ,cAAO,EAAE,CAAC,aAAV,CAAwB,QAAQ,CAAE,kBAACG,CAAD,CAAO,CACvCR,QAAQ,CAACQ,CAAC,CAACkB,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAR,CACArB,eAAe,CAACsB,GAAG,CAACC,eAAJ,CAAoBrB,CAAC,CAACkB,MAAF,CAASC,KAAT,CAAe,CAAf,CAApB,CAAD,CAAf,CACD,CAHD,CAGG,IAAI,CAAC,MAHR,EAFI,GANJ,cAaI,YAAK,SAAS,CAAC,aAAf,uBACE,cAAO,KAAK,CAAE1B,KAAd,CAAqB,QAAQ,CAAE,kBAACO,CAAD,QAAON,CAAAA,QAAQ,CAACM,CAAC,CAACkB,MAAF,CAASI,KAAV,CAAf,EAA/B,CAAgE,WAAW,CAAC,OAA5E,EADF,EAbJ,cAgBI,kCACE,iBAAU,WAAW,CAAC,SAAtB,CAAgC,SAAS,CAAC,mBAA1C,CAA8D,KAAK,CAAE3B,WAArE,CAAkF,QAAQ,CAAE,kBAAAK,CAAC,QAAIJ,CAAAA,cAAc,CAACI,CAAC,CAACkB,MAAF,CAASI,KAAV,CAAlB,EAA7F,EADF,EAhBJ,cAmBF,cAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAC,WAA/B,CAA2C,KAAK,CAAC,MAAjD,EAnBE,GADN,EADF,CAyBD,CAED,cAAehC,CAAAA,UAAf","sourcesContent":["import React, {useState} from 'react'\r\nimport './AddProject.css'\r\nimport { db, storage } from '../../firebase/firebase'\r\n\r\nfunction AddProject() {\r\n  const [image, setImage] = useState()\r\n  const [title, setTitle] = useState()\r\n  const [description, setDescription] = useState('')\r\n  const[imagePreview, setImagePreview] = useState()\r\n\r\n  const handleUpload = (e) => {\r\n    e.preventDefault()\r\n    const uploadTask = storage.ref(`images/${image.name}`).put(image)\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      snapshot => {},\r\n      error => {\r\n        console.log(error)\r\n      },\r\n      () => storage.\r\n        ref('images')\r\n        .child(image.name)\r\n        .getDownloadURL()\r\n        .then(url => {\r\n          db.collection('projects').add({\r\n            image: url,\r\n            title,\r\n            details: description\r\n        })\r\n      })\r\n      \r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className='AddProject'>\r\n          <form onSubmit={handleUpload} action='' className='addForm'>\r\n              <div className='preview'>\r\n              \r\n                <img src={imagePreview} className='preview-image' />\r\n                <p>(700x300)</p>\r\n              </div>\r\n              <div className='file-input-field'>\r\n                <label for='image-input'>Upload Image</label>\r\n          <input id='image-input' onChange={(e) => {\r\n            setImage(e.target.files[0])\r\n            setImagePreview(URL.createObjectURL(e.target.files[0]))\r\n          }} type='file' />\r\n              </div> \r\n              <div className='input-field'>\r\n                <input value={title} onChange={(e) => setTitle(e.target.value)} placeholder='Title'/>\r\n              </div>\r\n              <div>\r\n                <textarea placeholder='Details' className='description-field' value={description} onChange={e => setDescription(e.target.value)} />\r\n              </div>\r\n        <input type='submit' className='login-btn' value=\"Post\" />\r\n          </form>      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddProject"]},"metadata":{},"sourceType":"module"}