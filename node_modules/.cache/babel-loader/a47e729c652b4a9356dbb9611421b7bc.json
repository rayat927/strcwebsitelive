{"ast":null,"code":"import _construct from \"F:/strc/website/node_modules/@babel/runtime/helpers/esm/construct.js\";\nimport _inherits from \"F:/strc/website/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"F:/strc/website/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _createForOfIteratorHelper from \"F:/strc/website/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"F:/strc/website/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"F:/strc/website/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport firebase from '@firebase/app-compat';\nimport { FirestoreError, Bytes, _isBase64Available, enableIndexedDbPersistence as _enableIndexedDbPersistence, enableMultiTabIndexedDbPersistence as _enableMultiTabIndexedDbPersistence, clearIndexedDbPersistence as _clearIndexedDbPersistence, _DatabaseId, _logWarn, connectFirestoreEmulator, enableNetwork as _enableNetwork, disableNetwork as _disableNetwork, _validateIsNotUsedTogether, waitForPendingWrites as _waitForPendingWrites, onSnapshotsInSync as _onSnapshotsInSync, collection as _collection, doc as _doc, collectionGroup as _collectionGroup, runTransaction as _runTransaction, ensureFirestoreConfigured, WriteBatch as WriteBatch$1, executeWrite, loadBundle as _loadBundle, namedQuery as _namedQuery, _cast, DocumentReference as DocumentReference$1, DocumentSnapshot as DocumentSnapshot$1, _DocumentKey, refEqual, setDoc, updateDoc, deleteDoc, onSnapshot as _onSnapshot, getDocFromCache, getDocFromServer, getDoc, snapshotEqual, query, where as _where, orderBy as _orderBy, limit as _limit, limitToLast as _limitToLast, startAt as _startAt, startAfter as _startAfter, endBefore as _endBefore, endAt as _endAt, queryEqual, getDocsFromCache, getDocsFromServer, getDocs, QuerySnapshot as QuerySnapshot$1, addDoc, AbstractUserDataWriter, setLogLevel as setLogLevel$1, QueryDocumentSnapshot as QueryDocumentSnapshot$1, _debugAssert, FieldPath as FieldPath$1, _FieldPath, serverTimestamp as _serverTimestamp, deleteField, arrayUnion as _arrayUnion, arrayRemove as _arrayRemove, increment as _increment, GeoPoint, Timestamp, CACHE_SIZE_UNLIMITED } from '@firebase/firestore';\nimport { getModularInstance } from '@firebase/util';\nimport { Component } from '@firebase/component';\nvar name = \"@firebase/firestore-compat\";\nvar version = \"0.1.13\";\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nfunction validateSetOptions(methodName, options) {\n  if (options === undefined) {\n    return {\n      merge: false\n    };\n  }\n\n  if (options.mergeFields !== undefined && options.merge !== undefined) {\n    throw new FirestoreError('invalid-argument', \"Invalid options passed to function \".concat(methodName, \"(): You cannot \") + 'specify both \"merge\" and \"mergeFields\".');\n  }\n\n  return options;\n}\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/** Helper function to assert Uint8Array is available at runtime. */\n\n\nfunction assertUint8ArrayAvailable() {\n  if (typeof Uint8Array === 'undefined') {\n    throw new FirestoreError('unimplemented', 'Uint8Arrays are not available in this environment.');\n  }\n}\n/** Helper function to assert Base64 functions are available at runtime. */\n\n\nfunction assertBase64Available() {\n  if (!_isBase64Available()) {\n    throw new FirestoreError('unimplemented', 'Blobs are unavailable in Firestore in this environment.');\n  }\n}\n/** Immutable class holding a blob (binary data) */\n\n\nvar Blob = /*#__PURE__*/function () {\n  function Blob(_delegate) {\n    _classCallCheck(this, Blob);\n\n    this._delegate = _delegate;\n  }\n\n  _createClass(Blob, [{\n    key: \"toBase64\",\n    value: function toBase64() {\n      assertBase64Available();\n      return this._delegate.toBase64();\n    }\n  }, {\n    key: \"toUint8Array\",\n    value: function toUint8Array() {\n      assertUint8ArrayAvailable();\n      return this._delegate.toUint8Array();\n    }\n  }, {\n    key: \"isEqual\",\n    value: function isEqual(other) {\n      return this._delegate.isEqual(other._delegate);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return 'Blob(base64: ' + this.toBase64() + ')';\n    }\n  }], [{\n    key: \"fromBase64String\",\n    value: function fromBase64String(base64) {\n      assertBase64Available();\n      return new Blob(Bytes.fromBase64String(base64));\n    }\n  }, {\n    key: \"fromUint8Array\",\n    value: function fromUint8Array(array) {\n      assertUint8ArrayAvailable();\n      return new Blob(Bytes.fromUint8Array(array));\n    }\n  }]);\n\n  return Blob;\n}();\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nfunction isPartialObserver(obj) {\n  return implementsAnyMethods(obj, ['next', 'error', 'complete']);\n}\n/**\r\n * Returns true if obj is an object and contains at least one of the specified\r\n * methods.\r\n */\n\n\nfunction implementsAnyMethods(obj, methods) {\n  if (typeof obj !== 'object' || obj === null) {\n    return false;\n  }\n\n  var object = obj;\n\n  var _iterator = _createForOfIteratorHelper(methods),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var method = _step.value;\n\n      if (method in object && typeof object[method] === 'function') {\n        return true;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return false;\n}\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * The persistence provider included with the full Firestore SDK.\r\n */\n\n\nvar IndexedDbPersistenceProvider = /*#__PURE__*/function () {\n  function IndexedDbPersistenceProvider() {\n    _classCallCheck(this, IndexedDbPersistenceProvider);\n  }\n\n  _createClass(IndexedDbPersistenceProvider, [{\n    key: \"enableIndexedDbPersistence\",\n    value: function enableIndexedDbPersistence(firestore, forceOwnership) {\n      return _enableIndexedDbPersistence(firestore._delegate, {\n        forceOwnership: forceOwnership\n      });\n    }\n  }, {\n    key: \"enableMultiTabIndexedDbPersistence\",\n    value: function enableMultiTabIndexedDbPersistence(firestore) {\n      return _enableMultiTabIndexedDbPersistence(firestore._delegate);\n    }\n  }, {\n    key: \"clearIndexedDbPersistence\",\n    value: function clearIndexedDbPersistence(firestore) {\n      return _clearIndexedDbPersistence(firestore._delegate);\n    }\n  }]);\n\n  return IndexedDbPersistenceProvider;\n}();\n/**\r\n * Compat class for Firestore. Exposes Firestore Legacy API, but delegates\r\n * to the functional API of firestore-exp.\r\n */\n\n\nvar Firestore = /*#__PURE__*/function () {\n  function Firestore(databaseIdOrApp, _delegate, _persistenceProvider) {\n    var _this = this;\n\n    _classCallCheck(this, Firestore);\n\n    this._delegate = _delegate;\n    this._persistenceProvider = _persistenceProvider;\n    this.INTERNAL = {\n      delete: function _delete() {\n        return _this.terminate();\n      }\n    };\n\n    if (!(databaseIdOrApp instanceof _DatabaseId)) {\n      this._appCompat = databaseIdOrApp;\n    }\n  }\n\n  _createClass(Firestore, [{\n    key: \"_databaseId\",\n    get: function get() {\n      return this._delegate._databaseId;\n    }\n  }, {\n    key: \"settings\",\n    value: function settings(settingsLiteral) {\n      var currentSettings = this._delegate._getSettings();\n\n      if (!settingsLiteral.merge && currentSettings.host !== settingsLiteral.host) {\n        _logWarn('You are overriding the original host. If you did not intend ' + 'to override your settings, use {merge: true}.');\n      }\n\n      if (settingsLiteral.merge) {\n        settingsLiteral = Object.assign(Object.assign({}, currentSettings), settingsLiteral); // Remove the property from the settings once the merge is completed\n\n        delete settingsLiteral.merge;\n      }\n\n      this._delegate._setSettings(settingsLiteral);\n    }\n  }, {\n    key: \"useEmulator\",\n    value: function useEmulator(host, port) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      connectFirestoreEmulator(this._delegate, host, port, options);\n    }\n  }, {\n    key: \"enableNetwork\",\n    value: function enableNetwork() {\n      return _enableNetwork(this._delegate);\n    }\n  }, {\n    key: \"disableNetwork\",\n    value: function disableNetwork() {\n      return _disableNetwork(this._delegate);\n    }\n  }, {\n    key: \"enablePersistence\",\n    value: function enablePersistence(settings) {\n      var synchronizeTabs = false;\n      var experimentalForceOwningTab = false;\n\n      if (settings) {\n        synchronizeTabs = !!settings.synchronizeTabs;\n        experimentalForceOwningTab = !!settings.experimentalForceOwningTab;\n\n        _validateIsNotUsedTogether('synchronizeTabs', synchronizeTabs, 'experimentalForceOwningTab', experimentalForceOwningTab);\n      }\n\n      return synchronizeTabs ? this._persistenceProvider.enableMultiTabIndexedDbPersistence(this) : this._persistenceProvider.enableIndexedDbPersistence(this, experimentalForceOwningTab);\n    }\n  }, {\n    key: \"clearPersistence\",\n    value: function clearPersistence() {\n      return this._persistenceProvider.clearIndexedDbPersistence(this);\n    }\n  }, {\n    key: \"terminate\",\n    value: function terminate() {\n      if (this._appCompat) {\n        this._appCompat._removeServiceInstance('firestore-compat');\n\n        this._appCompat._removeServiceInstance('firestore');\n      }\n\n      return this._delegate._delete();\n    }\n  }, {\n    key: \"waitForPendingWrites\",\n    value: function waitForPendingWrites() {\n      return _waitForPendingWrites(this._delegate);\n    }\n  }, {\n    key: \"onSnapshotsInSync\",\n    value: function onSnapshotsInSync(arg) {\n      return _onSnapshotsInSync(this._delegate, arg);\n    }\n  }, {\n    key: \"app\",\n    get: function get() {\n      if (!this._appCompat) {\n        throw new FirestoreError('failed-precondition', \"Firestore was not initialized using the Firebase SDK. 'app' is \" + 'not available');\n      }\n\n      return this._appCompat;\n    }\n  }, {\n    key: \"collection\",\n    value: function collection(pathString) {\n      try {\n        return new CollectionReference(this, _collection(this._delegate, pathString));\n      } catch (e) {\n        throw replaceFunctionName(e, 'collection()', 'Firestore.collection()');\n      }\n    }\n  }, {\n    key: \"doc\",\n    value: function doc(pathString) {\n      try {\n        return new DocumentReference(this, _doc(this._delegate, pathString));\n      } catch (e) {\n        throw replaceFunctionName(e, 'doc()', 'Firestore.doc()');\n      }\n    }\n  }, {\n    key: \"collectionGroup\",\n    value: function collectionGroup(collectionId) {\n      try {\n        return new Query(this, _collectionGroup(this._delegate, collectionId));\n      } catch (e) {\n        throw replaceFunctionName(e, 'collectionGroup()', 'Firestore.collectionGroup()');\n      }\n    }\n  }, {\n    key: \"runTransaction\",\n    value: function runTransaction(updateFunction) {\n      var _this2 = this;\n\n      return _runTransaction(this._delegate, function (transaction) {\n        return updateFunction(new Transaction(_this2, transaction));\n      });\n    }\n  }, {\n    key: \"batch\",\n    value: function batch() {\n      var _this3 = this;\n\n      ensureFirestoreConfigured(this._delegate);\n      return new WriteBatch(new WriteBatch$1(this._delegate, function (mutations) {\n        return executeWrite(_this3._delegate, mutations);\n      }));\n    }\n  }, {\n    key: \"loadBundle\",\n    value: function loadBundle(bundleData) {\n      return _loadBundle(this._delegate, bundleData);\n    }\n  }, {\n    key: \"namedQuery\",\n    value: function namedQuery(name) {\n      var _this4 = this;\n\n      return _namedQuery(this._delegate, name).then(function (expQuery) {\n        if (!expQuery) {\n          return null;\n        }\n\n        return new Query(_this4, // We can pass `expQuery` here directly since named queries don't have a UserDataConverter.\n        // Otherwise, we would have to create a new ExpQuery and pass the old UserDataConverter.\n        expQuery);\n      });\n    }\n  }]);\n\n  return Firestore;\n}();\n\nvar UserDataWriter = /*#__PURE__*/function (_AbstractUserDataWrit) {\n  _inherits(UserDataWriter, _AbstractUserDataWrit);\n\n  var _super = _createSuper(UserDataWriter);\n\n  function UserDataWriter(firestore) {\n    var _this5;\n\n    _classCallCheck(this, UserDataWriter);\n\n    _this5 = _super.call(this);\n    _this5.firestore = firestore;\n    return _this5;\n  }\n\n  _createClass(UserDataWriter, [{\n    key: \"convertBytes\",\n    value: function convertBytes(bytes) {\n      return new Blob(new Bytes(bytes));\n    }\n  }, {\n    key: \"convertReference\",\n    value: function convertReference(name) {\n      var key = this.convertDocumentKey(name, this.firestore._databaseId);\n      return DocumentReference.forKey(key, this.firestore,\n      /* converter= */\n      null);\n    }\n  }]);\n\n  return UserDataWriter;\n}(AbstractUserDataWriter);\n\nfunction setLogLevel(level) {\n  setLogLevel$1(level);\n}\n/**\r\n * A reference to a transaction.\r\n */\n\n\nvar Transaction = /*#__PURE__*/function () {\n  function Transaction(_firestore, _delegate) {\n    _classCallCheck(this, Transaction);\n\n    this._firestore = _firestore;\n    this._delegate = _delegate;\n    this._userDataWriter = new UserDataWriter(_firestore);\n  }\n\n  _createClass(Transaction, [{\n    key: \"get\",\n    value: function get(documentRef) {\n      var _this6 = this;\n\n      var ref = castReference(documentRef);\n      return this._delegate.get(ref).then(function (result) {\n        return new DocumentSnapshot(_this6._firestore, new DocumentSnapshot$1(_this6._firestore._delegate, _this6._userDataWriter, result._key, result._document, result.metadata, ref.converter));\n      });\n    }\n  }, {\n    key: \"set\",\n    value: function set(documentRef, data, options) {\n      var ref = castReference(documentRef);\n\n      if (options) {\n        validateSetOptions('Transaction.set', options);\n\n        this._delegate.set(ref, data, options);\n      } else {\n        this._delegate.set(ref, data);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"update\",\n    value: function update(documentRef, dataOrField, value) {\n      for (var _len = arguments.length, moreFieldsAndValues = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        moreFieldsAndValues[_key - 3] = arguments[_key];\n      }\n\n      var ref = castReference(documentRef);\n\n      if (arguments.length === 2) {\n        this._delegate.update(ref, dataOrField);\n      } else {\n        var _this$_delegate;\n\n        (_this$_delegate = this._delegate).update.apply(_this$_delegate, [ref, dataOrField, value].concat(moreFieldsAndValues));\n      }\n\n      return this;\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(documentRef) {\n      var ref = castReference(documentRef);\n\n      this._delegate.delete(ref);\n\n      return this;\n    }\n  }]);\n\n  return Transaction;\n}();\n\nvar WriteBatch = /*#__PURE__*/function () {\n  function WriteBatch(_delegate) {\n    _classCallCheck(this, WriteBatch);\n\n    this._delegate = _delegate;\n  }\n\n  _createClass(WriteBatch, [{\n    key: \"set\",\n    value: function set(documentRef, data, options) {\n      var ref = castReference(documentRef);\n\n      if (options) {\n        validateSetOptions('WriteBatch.set', options);\n\n        this._delegate.set(ref, data, options);\n      } else {\n        this._delegate.set(ref, data);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"update\",\n    value: function update(documentRef, dataOrField, value) {\n      for (var _len2 = arguments.length, moreFieldsAndValues = new Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {\n        moreFieldsAndValues[_key2 - 3] = arguments[_key2];\n      }\n\n      var ref = castReference(documentRef);\n\n      if (arguments.length === 2) {\n        this._delegate.update(ref, dataOrField);\n      } else {\n        var _this$_delegate2;\n\n        (_this$_delegate2 = this._delegate).update.apply(_this$_delegate2, [ref, dataOrField, value].concat(moreFieldsAndValues));\n      }\n\n      return this;\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(documentRef) {\n      var ref = castReference(documentRef);\n\n      this._delegate.delete(ref);\n\n      return this;\n    }\n  }, {\n    key: \"commit\",\n    value: function commit() {\n      return this._delegate.commit();\n    }\n  }]);\n\n  return WriteBatch;\n}();\n/**\r\n * Wraps a `PublicFirestoreDataConverter` translating the types from the\r\n * experimental SDK into corresponding types from the Classic SDK before passing\r\n * them to the wrapped converter.\r\n */\n\n\nvar FirestoreDataConverter = /*#__PURE__*/function () {\n  function FirestoreDataConverter(_firestore, _userDataWriter, _delegate) {\n    _classCallCheck(this, FirestoreDataConverter);\n\n    this._firestore = _firestore;\n    this._userDataWriter = _userDataWriter;\n    this._delegate = _delegate;\n  }\n\n  _createClass(FirestoreDataConverter, [{\n    key: \"fromFirestore\",\n    value: function fromFirestore(snapshot, options) {\n      var expSnapshot = new QueryDocumentSnapshot$1(this._firestore._delegate, this._userDataWriter, snapshot._key, snapshot._document, snapshot.metadata,\n      /* converter= */\n      null);\n      return this._delegate.fromFirestore(new QueryDocumentSnapshot(this._firestore, expSnapshot), options !== null && options !== void 0 ? options : {});\n    }\n  }, {\n    key: \"toFirestore\",\n    value: function toFirestore(modelObject, options) {\n      if (!options) {\n        return this._delegate.toFirestore(modelObject);\n      } else {\n        return this._delegate.toFirestore(modelObject, options);\n      }\n    } // Use the same instance of `FirestoreDataConverter` for the given instances\n    // of `Firestore` and `PublicFirestoreDataConverter` so that isEqual() will\n    // compare equal for two objects created with the same converter instance.\n\n  }], [{\n    key: \"getInstance\",\n    value: function getInstance(firestore, converter) {\n      var converterMapByFirestore = FirestoreDataConverter.INSTANCES;\n      var untypedConverterByConverter = converterMapByFirestore.get(firestore);\n\n      if (!untypedConverterByConverter) {\n        untypedConverterByConverter = new WeakMap();\n        converterMapByFirestore.set(firestore, untypedConverterByConverter);\n      }\n\n      var instance = untypedConverterByConverter.get(converter);\n\n      if (!instance) {\n        instance = new FirestoreDataConverter(firestore, new UserDataWriter(firestore), converter);\n        untypedConverterByConverter.set(converter, instance);\n      }\n\n      return instance;\n    }\n  }]);\n\n  return FirestoreDataConverter;\n}();\n\nFirestoreDataConverter.INSTANCES = new WeakMap();\n/**\r\n * A reference to a particular document in a collection in the database.\r\n */\n\nvar DocumentReference = /*#__PURE__*/function () {\n  function DocumentReference(firestore, _delegate) {\n    _classCallCheck(this, DocumentReference);\n\n    this.firestore = firestore;\n    this._delegate = _delegate;\n    this._userDataWriter = new UserDataWriter(firestore);\n  }\n\n  _createClass(DocumentReference, [{\n    key: \"id\",\n    get: function get() {\n      return this._delegate.id;\n    }\n  }, {\n    key: \"parent\",\n    get: function get() {\n      return new CollectionReference(this.firestore, this._delegate.parent);\n    }\n  }, {\n    key: \"path\",\n    get: function get() {\n      return this._delegate.path;\n    }\n  }, {\n    key: \"collection\",\n    value: function collection(pathString) {\n      try {\n        return new CollectionReference(this.firestore, _collection(this._delegate, pathString));\n      } catch (e) {\n        throw replaceFunctionName(e, 'collection()', 'DocumentReference.collection()');\n      }\n    }\n  }, {\n    key: \"isEqual\",\n    value: function isEqual(other) {\n      other = getModularInstance(other);\n\n      if (!(other instanceof DocumentReference$1)) {\n        return false;\n      }\n\n      return refEqual(this._delegate, other);\n    }\n  }, {\n    key: \"set\",\n    value: function set(value, options) {\n      options = validateSetOptions('DocumentReference.set', options);\n\n      try {\n        if (options) {\n          return setDoc(this._delegate, value, options);\n        } else {\n          return setDoc(this._delegate, value);\n        }\n      } catch (e) {\n        throw replaceFunctionName(e, 'setDoc()', 'DocumentReference.set()');\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(fieldOrUpdateData, value) {\n      for (var _len3 = arguments.length, moreFieldsAndValues = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        moreFieldsAndValues[_key3 - 2] = arguments[_key3];\n      }\n\n      try {\n        if (arguments.length === 1) {\n          return updateDoc(this._delegate, fieldOrUpdateData);\n        } else {\n          return updateDoc.apply(void 0, [this._delegate, fieldOrUpdateData, value].concat(moreFieldsAndValues));\n        }\n      } catch (e) {\n        throw replaceFunctionName(e, 'updateDoc()', 'DocumentReference.update()');\n      }\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      return deleteDoc(this._delegate);\n    }\n  }, {\n    key: \"onSnapshot\",\n    value: function onSnapshot() {\n      var _this7 = this;\n\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      var options = extractSnapshotOptions(args);\n      var observer = wrapObserver(args, function (result) {\n        return new DocumentSnapshot(_this7.firestore, new DocumentSnapshot$1(_this7.firestore._delegate, _this7._userDataWriter, result._key, result._document, result.metadata, _this7._delegate.converter));\n      });\n      return _onSnapshot(this._delegate, options, observer);\n    }\n  }, {\n    key: \"get\",\n    value: function get(options) {\n      var _this8 = this;\n\n      var snap;\n\n      if ((options === null || options === void 0 ? void 0 : options.source) === 'cache') {\n        snap = getDocFromCache(this._delegate);\n      } else if ((options === null || options === void 0 ? void 0 : options.source) === 'server') {\n        snap = getDocFromServer(this._delegate);\n      } else {\n        snap = getDoc(this._delegate);\n      }\n\n      return snap.then(function (result) {\n        return new DocumentSnapshot(_this8.firestore, new DocumentSnapshot$1(_this8.firestore._delegate, _this8._userDataWriter, result._key, result._document, result.metadata, _this8._delegate.converter));\n      });\n    }\n  }, {\n    key: \"withConverter\",\n    value: function withConverter(converter) {\n      return new DocumentReference(this.firestore, converter ? this._delegate.withConverter(FirestoreDataConverter.getInstance(this.firestore, converter)) : this._delegate.withConverter(null));\n    }\n  }], [{\n    key: \"forPath\",\n    value: function forPath(path, firestore, converter) {\n      if (path.length % 2 !== 0) {\n        throw new FirestoreError('invalid-argument', 'Invalid document reference. Document ' + 'references must have an even number of segments, but ' + \"\".concat(path.canonicalString(), \" has \").concat(path.length));\n      }\n\n      return new DocumentReference(firestore, new DocumentReference$1(firestore._delegate, converter, new _DocumentKey(path)));\n    }\n  }, {\n    key: \"forKey\",\n    value: function forKey(key, firestore, converter) {\n      return new DocumentReference(firestore, new DocumentReference$1(firestore._delegate, converter, key));\n    }\n  }]);\n\n  return DocumentReference;\n}();\n/**\r\n * Replaces the function name in an error thrown by the firestore-exp API\r\n * with the function names used in the classic API.\r\n */\n\n\nfunction replaceFunctionName(e, original, updated) {\n  e.message = e.message.replace(original, updated);\n  return e;\n}\n/**\r\n * Iterates the list of arguments from an `onSnapshot` call and returns the\r\n * first argument that may be an `SnapshotListenOptions` object. Returns an\r\n * empty object if none is found.\r\n */\n\n\nfunction extractSnapshotOptions(args) {\n  var _iterator2 = _createForOfIteratorHelper(args),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var arg = _step2.value;\n\n      if (typeof arg === 'object' && !isPartialObserver(arg)) {\n        return arg;\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return {};\n}\n/**\r\n * Creates an observer that can be passed to the firestore-exp SDK. The\r\n * observer converts all observed values into the format expected by the classic\r\n * SDK.\r\n *\r\n * @param args - The list of arguments from an `onSnapshot` call.\r\n * @param wrapper - The function that converts the firestore-exp type into the\r\n * type used by this shim.\r\n */\n\n\nfunction wrapObserver(args, wrapper) {\n  var _a, _b;\n\n  var userObserver;\n\n  if (isPartialObserver(args[0])) {\n    userObserver = args[0];\n  } else if (isPartialObserver(args[1])) {\n    userObserver = args[1];\n  } else if (typeof args[0] === 'function') {\n    userObserver = {\n      next: args[0],\n      error: args[1],\n      complete: args[2]\n    };\n  } else {\n    userObserver = {\n      next: args[1],\n      error: args[2],\n      complete: args[3]\n    };\n  }\n\n  return {\n    next: function next(val) {\n      if (userObserver.next) {\n        userObserver.next(wrapper(val));\n      }\n    },\n    error: (_a = userObserver.error) === null || _a === void 0 ? void 0 : _a.bind(userObserver),\n    complete: (_b = userObserver.complete) === null || _b === void 0 ? void 0 : _b.bind(userObserver)\n  };\n}\n\nvar DocumentSnapshot = /*#__PURE__*/function () {\n  function DocumentSnapshot(_firestore, _delegate) {\n    _classCallCheck(this, DocumentSnapshot);\n\n    this._firestore = _firestore;\n    this._delegate = _delegate;\n  }\n\n  _createClass(DocumentSnapshot, [{\n    key: \"ref\",\n    get: function get() {\n      return new DocumentReference(this._firestore, this._delegate.ref);\n    }\n  }, {\n    key: \"id\",\n    get: function get() {\n      return this._delegate.id;\n    }\n  }, {\n    key: \"metadata\",\n    get: function get() {\n      return this._delegate.metadata;\n    }\n  }, {\n    key: \"exists\",\n    get: function get() {\n      return this._delegate.exists();\n    }\n  }, {\n    key: \"data\",\n    value: function data(options) {\n      return this._delegate.data(options);\n    }\n  }, {\n    key: \"get\",\n    value: function get(fieldPath, options // We are using `any` here to avoid an explicit cast by our users.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ) {\n      return this._delegate.get(fieldPath, options);\n    }\n  }, {\n    key: \"isEqual\",\n    value: function isEqual(other) {\n      return snapshotEqual(this._delegate, other._delegate);\n    }\n  }]);\n\n  return DocumentSnapshot;\n}();\n\nvar QueryDocumentSnapshot = /*#__PURE__*/function (_DocumentSnapshot) {\n  _inherits(QueryDocumentSnapshot, _DocumentSnapshot);\n\n  var _super2 = _createSuper(QueryDocumentSnapshot);\n\n  function QueryDocumentSnapshot() {\n    _classCallCheck(this, QueryDocumentSnapshot);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(QueryDocumentSnapshot, [{\n    key: \"data\",\n    value: function data(options) {\n      var data = this._delegate.data(options);\n\n      _debugAssert(data !== undefined, 'Document in a QueryDocumentSnapshot should exist');\n\n      return data;\n    }\n  }]);\n\n  return QueryDocumentSnapshot;\n}(DocumentSnapshot);\n\nvar Query = /*#__PURE__*/function () {\n  function Query(firestore, _delegate) {\n    _classCallCheck(this, Query);\n\n    this.firestore = firestore;\n    this._delegate = _delegate;\n    this._userDataWriter = new UserDataWriter(firestore);\n  }\n\n  _createClass(Query, [{\n    key: \"where\",\n    value: function where(fieldPath, opStr, value) {\n      try {\n        // The \"as string\" cast is a little bit of a hack. `where` accepts the\n        // FieldPath Compat type as input, but is not typed as such in order to\n        // not expose this via our public typings file.\n        return new Query(this.firestore, query(this._delegate, _where(fieldPath, opStr, value)));\n      } catch (e) {\n        throw replaceFunctionName(e, /(orderBy|where)\\(\\)/, 'Query.$1()');\n      }\n    }\n  }, {\n    key: \"orderBy\",\n    value: function orderBy(fieldPath, directionStr) {\n      try {\n        // The \"as string\" cast is a little bit of a hack. `orderBy` accepts the\n        // FieldPath Compat type as input, but is not typed as such in order to\n        // not expose this via our public typings file.\n        return new Query(this.firestore, query(this._delegate, _orderBy(fieldPath, directionStr)));\n      } catch (e) {\n        throw replaceFunctionName(e, /(orderBy|where)\\(\\)/, 'Query.$1()');\n      }\n    }\n  }, {\n    key: \"limit\",\n    value: function limit(n) {\n      try {\n        return new Query(this.firestore, query(this._delegate, _limit(n)));\n      } catch (e) {\n        throw replaceFunctionName(e, 'limit()', 'Query.limit()');\n      }\n    }\n  }, {\n    key: \"limitToLast\",\n    value: function limitToLast(n) {\n      try {\n        return new Query(this.firestore, query(this._delegate, _limitToLast(n)));\n      } catch (e) {\n        throw replaceFunctionName(e, 'limitToLast()', 'Query.limitToLast()');\n      }\n    }\n  }, {\n    key: \"startAt\",\n    value: function startAt() {\n      try {\n        return new Query(this.firestore, query(this._delegate, _startAt.apply(void 0, arguments)));\n      } catch (e) {\n        throw replaceFunctionName(e, 'startAt()', 'Query.startAt()');\n      }\n    }\n  }, {\n    key: \"startAfter\",\n    value: function startAfter() {\n      try {\n        return new Query(this.firestore, query(this._delegate, _startAfter.apply(void 0, arguments)));\n      } catch (e) {\n        throw replaceFunctionName(e, 'startAfter()', 'Query.startAfter()');\n      }\n    }\n  }, {\n    key: \"endBefore\",\n    value: function endBefore() {\n      try {\n        return new Query(this.firestore, query(this._delegate, _endBefore.apply(void 0, arguments)));\n      } catch (e) {\n        throw replaceFunctionName(e, 'endBefore()', 'Query.endBefore()');\n      }\n    }\n  }, {\n    key: \"endAt\",\n    value: function endAt() {\n      try {\n        return new Query(this.firestore, query(this._delegate, _endAt.apply(void 0, arguments)));\n      } catch (e) {\n        throw replaceFunctionName(e, 'endAt()', 'Query.endAt()');\n      }\n    }\n  }, {\n    key: \"isEqual\",\n    value: function isEqual(other) {\n      return queryEqual(this._delegate, other._delegate);\n    }\n  }, {\n    key: \"get\",\n    value: function get(options) {\n      var _this9 = this;\n\n      var query;\n\n      if ((options === null || options === void 0 ? void 0 : options.source) === 'cache') {\n        query = getDocsFromCache(this._delegate);\n      } else if ((options === null || options === void 0 ? void 0 : options.source) === 'server') {\n        query = getDocsFromServer(this._delegate);\n      } else {\n        query = getDocs(this._delegate);\n      }\n\n      return query.then(function (result) {\n        return new QuerySnapshot(_this9.firestore, new QuerySnapshot$1(_this9.firestore._delegate, _this9._userDataWriter, _this9._delegate, result._snapshot));\n      });\n    }\n  }, {\n    key: \"onSnapshot\",\n    value: function onSnapshot() {\n      var _this10 = this;\n\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      var options = extractSnapshotOptions(args);\n      var observer = wrapObserver(args, function (snap) {\n        return new QuerySnapshot(_this10.firestore, new QuerySnapshot$1(_this10.firestore._delegate, _this10._userDataWriter, _this10._delegate, snap._snapshot));\n      });\n      return _onSnapshot(this._delegate, options, observer);\n    }\n  }, {\n    key: \"withConverter\",\n    value: function withConverter(converter) {\n      return new Query(this.firestore, converter ? this._delegate.withConverter(FirestoreDataConverter.getInstance(this.firestore, converter)) : this._delegate.withConverter(null));\n    }\n  }]);\n\n  return Query;\n}();\n\nvar DocumentChange = /*#__PURE__*/function () {\n  function DocumentChange(_firestore, _delegate) {\n    _classCallCheck(this, DocumentChange);\n\n    this._firestore = _firestore;\n    this._delegate = _delegate;\n  }\n\n  _createClass(DocumentChange, [{\n    key: \"type\",\n    get: function get() {\n      return this._delegate.type;\n    }\n  }, {\n    key: \"doc\",\n    get: function get() {\n      return new QueryDocumentSnapshot(this._firestore, this._delegate.doc);\n    }\n  }, {\n    key: \"oldIndex\",\n    get: function get() {\n      return this._delegate.oldIndex;\n    }\n  }, {\n    key: \"newIndex\",\n    get: function get() {\n      return this._delegate.newIndex;\n    }\n  }]);\n\n  return DocumentChange;\n}();\n\nvar QuerySnapshot = /*#__PURE__*/function () {\n  function QuerySnapshot(_firestore, _delegate) {\n    _classCallCheck(this, QuerySnapshot);\n\n    this._firestore = _firestore;\n    this._delegate = _delegate;\n  }\n\n  _createClass(QuerySnapshot, [{\n    key: \"query\",\n    get: function get() {\n      return new Query(this._firestore, this._delegate.query);\n    }\n  }, {\n    key: \"metadata\",\n    get: function get() {\n      return this._delegate.metadata;\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return this._delegate.size;\n    }\n  }, {\n    key: \"empty\",\n    get: function get() {\n      return this._delegate.empty;\n    }\n  }, {\n    key: \"docs\",\n    get: function get() {\n      var _this11 = this;\n\n      return this._delegate.docs.map(function (doc) {\n        return new QueryDocumentSnapshot(_this11._firestore, doc);\n      });\n    }\n  }, {\n    key: \"docChanges\",\n    value: function docChanges(options) {\n      var _this12 = this;\n\n      return this._delegate.docChanges(options).map(function (docChange) {\n        return new DocumentChange(_this12._firestore, docChange);\n      });\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(callback, thisArg) {\n      var _this13 = this;\n\n      this._delegate.forEach(function (snapshot) {\n        callback.call(thisArg, new QueryDocumentSnapshot(_this13._firestore, snapshot));\n      });\n    }\n  }, {\n    key: \"isEqual\",\n    value: function isEqual(other) {\n      return snapshotEqual(this._delegate, other._delegate);\n    }\n  }]);\n\n  return QuerySnapshot;\n}();\n\nvar CollectionReference = /*#__PURE__*/function (_Query) {\n  _inherits(CollectionReference, _Query);\n\n  var _super3 = _createSuper(CollectionReference);\n\n  function CollectionReference(firestore, _delegate) {\n    var _this14;\n\n    _classCallCheck(this, CollectionReference);\n\n    _this14 = _super3.call(this, firestore, _delegate);\n    _this14.firestore = firestore;\n    _this14._delegate = _delegate;\n    return _this14;\n  }\n\n  _createClass(CollectionReference, [{\n    key: \"id\",\n    get: function get() {\n      return this._delegate.id;\n    }\n  }, {\n    key: \"path\",\n    get: function get() {\n      return this._delegate.path;\n    }\n  }, {\n    key: \"parent\",\n    get: function get() {\n      var docRef = this._delegate.parent;\n      return docRef ? new DocumentReference(this.firestore, docRef) : null;\n    }\n  }, {\n    key: \"doc\",\n    value: function doc(documentPath) {\n      try {\n        if (documentPath === undefined) {\n          // Call `doc` without `documentPath` if `documentPath` is `undefined`\n          // as `doc` validates the number of arguments to prevent users from\n          // accidentally passing `undefined`.\n          return new DocumentReference(this.firestore, _doc(this._delegate));\n        } else {\n          return new DocumentReference(this.firestore, _doc(this._delegate, documentPath));\n        }\n      } catch (e) {\n        throw replaceFunctionName(e, 'doc()', 'CollectionReference.doc()');\n      }\n    }\n  }, {\n    key: \"add\",\n    value: function add(data) {\n      var _this15 = this;\n\n      return addDoc(this._delegate, data).then(function (docRef) {\n        return new DocumentReference(_this15.firestore, docRef);\n      });\n    }\n  }, {\n    key: \"isEqual\",\n    value: function isEqual(other) {\n      return refEqual(this._delegate, other._delegate);\n    }\n  }, {\n    key: \"withConverter\",\n    value: function withConverter(converter) {\n      return new CollectionReference(this.firestore, converter ? this._delegate.withConverter(FirestoreDataConverter.getInstance(this.firestore, converter)) : this._delegate.withConverter(null));\n    }\n  }]);\n\n  return CollectionReference;\n}(Query);\n\nfunction castReference(documentRef) {\n  return _cast(documentRef, DocumentReference$1);\n}\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n// The objects that are a part of this API are exposed to third-parties as\n// compiled javascript so we want to flag our private members with a leading\n// underscore to discourage their use.\n\n/**\r\n * A `FieldPath` refers to a field in a document. The path may consist of a\r\n * single field name (referring to a top-level field in the document), or a list\r\n * of field names (referring to a nested field in the document).\r\n */\n\n\nvar FieldPath = /*#__PURE__*/function () {\n  /**\r\n   * Creates a FieldPath from the provided field names. If more than one field\r\n   * name is provided, the path will point to a nested field in a document.\r\n   *\r\n   * @param fieldNames - A list of field names.\r\n   */\n  function FieldPath() {\n    _classCallCheck(this, FieldPath);\n\n    for (var _len6 = arguments.length, fieldNames = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n      fieldNames[_key6] = arguments[_key6];\n    }\n\n    this._delegate = _construct(FieldPath$1, fieldNames);\n  }\n\n  _createClass(FieldPath, [{\n    key: \"isEqual\",\n    value: function isEqual(other) {\n      other = getModularInstance(other);\n\n      if (!(other instanceof FieldPath$1)) {\n        return false;\n      }\n\n      return this._delegate._internalPath.isEqual(other._internalPath);\n    }\n  }], [{\n    key: \"documentId\",\n    value: function documentId() {\n      /**\r\n       * Internal Note: The backend doesn't technically support querying by\r\n       * document ID. Instead it queries by the entire document name (full path\r\n       * included), but in the cases we currently support documentId(), the net\r\n       * effect is the same.\r\n       */\n      return new FieldPath(_FieldPath.keyField().canonicalString());\n    }\n  }]);\n\n  return FieldPath;\n}();\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar FieldValue = /*#__PURE__*/function () {\n  function FieldValue(_delegate) {\n    _classCallCheck(this, FieldValue);\n\n    this._delegate = _delegate;\n  }\n\n  _createClass(FieldValue, [{\n    key: \"isEqual\",\n    value: function isEqual(other) {\n      return this._delegate.isEqual(other._delegate);\n    }\n  }], [{\n    key: \"serverTimestamp\",\n    value: function serverTimestamp() {\n      var delegate = _serverTimestamp();\n\n      delegate._methodName = 'FieldValue.serverTimestamp';\n      return new FieldValue(delegate);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      var delegate = deleteField();\n      delegate._methodName = 'FieldValue.delete';\n      return new FieldValue(delegate);\n    }\n  }, {\n    key: \"arrayUnion\",\n    value: function arrayUnion() {\n      var delegate = _arrayUnion.apply(void 0, arguments);\n\n      delegate._methodName = 'FieldValue.arrayUnion';\n      return new FieldValue(delegate);\n    }\n  }, {\n    key: \"arrayRemove\",\n    value: function arrayRemove() {\n      var delegate = _arrayRemove.apply(void 0, arguments);\n\n      delegate._methodName = 'FieldValue.arrayRemove';\n      return new FieldValue(delegate);\n    }\n  }, {\n    key: \"increment\",\n    value: function increment(n) {\n      var delegate = _increment(n);\n\n      delegate._methodName = 'FieldValue.increment';\n      return new FieldValue(delegate);\n    }\n  }]);\n\n  return FieldValue;\n}();\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar firestoreNamespace = {\n  Firestore: Firestore,\n  GeoPoint: GeoPoint,\n  Timestamp: Timestamp,\n  Blob: Blob,\n  Transaction: Transaction,\n  WriteBatch: WriteBatch,\n  DocumentReference: DocumentReference,\n  DocumentSnapshot: DocumentSnapshot,\n  Query: Query,\n  QueryDocumentSnapshot: QueryDocumentSnapshot,\n  QuerySnapshot: QuerySnapshot,\n  CollectionReference: CollectionReference,\n  FieldPath: FieldPath,\n  FieldValue: FieldValue,\n  setLogLevel: setLogLevel,\n  CACHE_SIZE_UNLIMITED: CACHE_SIZE_UNLIMITED\n};\n/**\r\n * Configures Firestore as part of the Firebase SDK by calling registerComponent.\r\n *\r\n * @param firebase - The FirebaseNamespace to register Firestore with\r\n * @param firestoreFactory - A factory function that returns a new Firestore\r\n *    instance.\r\n */\n\nfunction configureForFirebase(firebase, firestoreFactory) {\n  firebase.INTERNAL.registerComponent(new Component('firestore-compat', function (container) {\n    var app = container.getProvider('app-compat').getImmediate();\n    var firestoreExp = container.getProvider('firestore').getImmediate();\n    return firestoreFactory(app, firestoreExp);\n  }, 'PUBLIC').setServiceProps(Object.assign({}, firestoreNamespace)));\n}\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * Registers the main Firestore build with the components framework.\r\n * Persistence can be enabled via `firebase.firestore().enablePersistence()`.\r\n */\n\n\nfunction registerFirestore(instance) {\n  configureForFirebase(instance, function (app, firestoreExp) {\n    return new Firestore(app, firestoreExp, new IndexedDbPersistenceProvider());\n  });\n  instance.registerVersion(name, version);\n}\n\nregisterFirestore(firebase);\nexport { registerFirestore };","map":{"version":3,"mappings":"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","names":["validateSetOptions","methodName","options","undefined","merge","mergeFields","FirestoreError","assertUint8ArrayAvailable","Uint8Array","assertBase64Available","_isBase64Available","Blob","_delegate","toBase64","toUint8Array","other","isEqual","base64","Bytes","fromBase64String","array","fromUint8Array","isPartialObserver","obj","implementsAnyMethods","methods","object","method","IndexedDbPersistenceProvider","firestore","forceOwnership","enableIndexedDbPersistence","enableMultiTabIndexedDbPersistence","clearIndexedDbPersistence","Firestore","databaseIdOrApp","_persistenceProvider","delete","terminate","_DatabaseId","_appCompat","_databaseId","settingsLiteral","currentSettings","_getSettings","host","_logWarn","_setSettings","port","connectFirestoreEmulator","enableNetwork","disableNetwork","settings","synchronizeTabs","experimentalForceOwningTab","_validateIsNotUsedTogether","_removeServiceInstance","_delete","waitForPendingWrites","arg","onSnapshotsInSync","pathString","CollectionReference","collection","e","replaceFunctionName","DocumentReference","doc","collectionId","Query","collectionGroup","updateFunction","runTransaction","Transaction","transaction","ensureFirestoreConfigured","WriteBatch","ExpWriteBatch","executeWrite","mutations","bundleData","loadBundle","name","namedQuery","then","expQuery","UserDataWriter","bytes","key","convertDocumentKey","forKey","AbstractUserDataWriter","setLogLevel","level","setClientLogLevel","_firestore","_userDataWriter","documentRef","ref","castReference","get","DocumentSnapshot","ExpDocumentSnapshot","result","_key","_document","metadata","converter","data","set","dataOrField","value","moreFieldsAndValues","arguments","length","update","commit","FirestoreDataConverter","snapshot","expSnapshot","ExpQueryDocumentSnapshot","fromFirestore","QueryDocumentSnapshot","modelObject","toFirestore","converterMapByFirestore","INSTANCES","untypedConverterByConverter","WeakMap","instance","id","parent","path","getModularInstance","ExpDocumentReference","refEqual","setDoc","fieldOrUpdateData","updateDoc","deleteDoc","args","extractSnapshotOptions","observer","wrapObserver","onSnapshot","snap","source","getDocFromCache","getDocFromServer","getDoc","withConverter","getInstance","canonicalString","_DocumentKey","original","updated","message","replace","wrapper","userObserver","next","error","complete","val","_a","bind","_b","exists","fieldPath","snapshotEqual","_debugAssert","opStr","query","where","directionStr","orderBy","n","limit","limitToLast","startAt","startAfter","endBefore","endAt","queryEqual","getDocsFromCache","getDocsFromServer","getDocs","QuerySnapshot","ExpQuerySnapshot","_snapshot","DocumentChange","type","oldIndex","newIndex","size","empty","docs","map","docChanges","docChange","callback","thisArg","forEach","call","docRef","documentPath","addDoc","_cast","FieldPath","fieldNames","ExpFieldPath","_internalPath","InternalFieldPath","keyField","FieldValue","delegate","serverTimestamp","_methodName","deleteField","arrayUnion","arrayRemove","increment","firestoreNamespace","GeoPoint","Timestamp","CACHE_SIZE_UNLIMITED","configureForFirebase","firebase","firestoreFactory","INTERNAL","registerComponent","Component","app","container","getProvider","getImmediate","firestoreExp","setServiceProps","Object","registerFirestore","registerVersion","version"],"sources":["."],"sourcesContent":["/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport firebase from '@firebase/app-compat';\nimport type { FirebaseNamespace } from '@firebase/app-types';\nimport * as types from '@firebase/firestore-types';\n\nimport { name, version } from '../package.json';\n\nimport { Firestore, IndexedDbPersistenceProvider } from './api/database';\nimport { configureForFirebase } from './config';\n\nimport './register-module';\n\n/**\n * Registers the main Firestore build with the components framework.\n * Persistence can be enabled via `firebase.firestore().enablePersistence()`.\n */\nexport function registerFirestore(instance: FirebaseNamespace): void {\n  configureForFirebase(\n    instance,\n    (app, firestoreExp) =>\n      new Firestore(app, firestoreExp, new IndexedDbPersistenceProvider())\n  );\n  instance.registerVersion(name, version);\n}\n\nregisterFirestore(firebase as unknown as FirebaseNamespace);\n\ndeclare module '@firebase/app-compat' {\n  interface FirebaseNamespace {\n    firestore: {\n      (app?: FirebaseApp): types.FirebaseFirestore;\n      Blob: typeof types.Blob;\n      CollectionReference: typeof types.CollectionReference;\n      DocumentReference: typeof types.DocumentReference;\n      DocumentSnapshot: typeof types.DocumentSnapshot;\n      FieldPath: typeof types.FieldPath;\n      FieldValue: typeof types.FieldValue;\n      Firestore: typeof types.FirebaseFirestore;\n      GeoPoint: typeof types.GeoPoint;\n      Query: typeof types.Query;\n      QueryDocumentSnapshot: typeof types.QueryDocumentSnapshot;\n      QuerySnapshot: typeof types.QuerySnapshot;\n      Timestamp: typeof types.Timestamp;\n      Transaction: typeof types.Transaction;\n      WriteBatch: typeof types.WriteBatch;\n      setLogLevel: typeof types.setLogLevel;\n    };\n  }\n  interface FirebaseApp {\n    firestore?(): types.FirebaseFirestore;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}